/**
 * Pegasus
 * @version 0.4.1
 * @author Unify Group
 */
"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,e){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=exports=e():"function"==typeof define&&define.amd?define([],e):t.CryptoJS=e()}(window,(function(){var t,e,i,n,r,s=s||function(t,e){var i;if("undefined"!=typeof window&&window.crypto&&(i=window.crypto),!i&&"undefined"!=typeof window&&window.msCrypto&&(i=window.msCrypto),!i&&"undefined"!=typeof global&&global.crypto&&(i=global.crypto),!i&&"function"==typeof require)try{i=require("crypto")}catch(t){}var n=function(){if(i){if("function"==typeof i.getRandomValues)try{return i.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof i.randomBytes)try{return i.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},r=Object.create||function(){function t(){}return function(e){var i;return t.prototype=e,i=new t,t.prototype=null,i}}(),s={},a=s.lib={},o=a.Base={extend:function(t){var e=r(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},c=a.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||l).stringify(this)},concat:function(t){var e=this.words,i=t.words,n=this.sigBytes,r=t.sigBytes;if(this.clamp(),n%4)for(var s=0;s<r;s++){var a=i[s>>>2]>>>24-s%4*8&255;e[n+s>>>2]|=a<<24-(n+s)%4*8}else for(s=0;s<r;s+=4)e[n+s>>>2]=i[s>>>2];return this.sigBytes+=r,this},clamp:function(){var e=this.words,i=this.sigBytes;e[i>>>2]&=4294967295<<32-i%4*8,e.length=t.ceil(i/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],i=0;i<t;i+=4)e.push(n());return new c.init(e,t)}}),d=s.enc={},l=d.Hex={stringify:function(t){for(var e=t.words,i=t.sigBytes,n=[],r=0;r<i;r++){var s=e[r>>>2]>>>24-r%4*8&255;n.push((s>>>4).toString(16)),n.push((15&s).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,i=[],n=0;n<e;n+=2)i[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new c.init(i,e/2)}},h=d.Latin1={stringify:function(t){for(var e=t.words,i=t.sigBytes,n=[],r=0;r<i;r++){var s=e[r>>>2]>>>24-r%4*8&255;n.push(String.fromCharCode(s))}return n.join("")},parse:function(t){for(var e=t.length,i=[],n=0;n<e;n++)i[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new c.init(i,e)}},u=d.Utf8={stringify:function(t){try{return decodeURIComponent(escape(h.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return h.parse(unescape(encodeURIComponent(t)))}},f=a.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=u.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var i,n=this._data,r=n.words,s=n.sigBytes,a=this.blockSize,o=s/(4*a),d=(o=e?t.ceil(o):t.max((0|o)-this._minBufferSize,0))*a,l=t.min(4*d,s);if(d){for(var h=0;h<d;h+=a)this._doProcessBlock(r,h);i=r.splice(0,d),n.sigBytes-=l}return new c.init(i,l)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),p=(a.Hasher=f.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,i){return new t.init(i).finalize(e)}},_createHmacHelper:function(t){return function(e,i){return new p.HMAC.init(t,i).finalize(e)}}}),s.algo={});return s}(Math);return e=(t=s).lib.WordArray,t.enc.Base64={stringify:function(t){var e=t.words,i=t.sigBytes,n=this._map;t.clamp();for(var r=[],s=0;s<i;s+=3)for(var a=(e[s>>>2]>>>24-s%4*8&255)<<16|(e[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|e[s+2>>>2]>>>24-(s+2)%4*8&255,o=0;o<4&&s+.75*o<i;o++)r.push(n.charAt(a>>>6*(3-o)&63));var c=n.charAt(64);if(c)for(;r.length%4;)r.push(c);return r.join("")},parse:function(t){var i=t.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var s=0;s<n.length;s++)r[n.charCodeAt(s)]=s}var a=n.charAt(64);if(a){var o=t.indexOf(a);-1!==o&&(i=o)}return function(t,i,n){for(var r=[],s=0,a=0;a<i;a++)if(a%4){var o=n[t.charCodeAt(a-1)]<<a%4*2,c=n[t.charCodeAt(a)]>>>6-a%4*2,d=o|c;r[s>>>2]|=d<<24-s%4*8,s++}return e.create(r,s)}(t,i,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(t){var e=s,i=e.lib,n=i.WordArray,r=i.Hasher,a=e.algo,o=[];!function(){for(var e=0;e<64;e++)o[e]=4294967296*t.abs(t.sin(e+1))|0}();var c=a.MD5=r.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var i=0;i<16;i++){var n=e+i,r=t[n];t[n]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var s=this._hash.words,a=t[e+0],c=t[e+1],f=t[e+2],p=t[e+3],g=t[e+4],m=t[e+5],y=t[e+6],v=t[e+7],b=t[e+8],_=t[e+9],w=t[e+10],S=t[e+11],E=t[e+12],k=t[e+13],T=t[e+14],A=t[e+15],B=s[0],x=s[1],I=s[2],R=s[3];B=d(B,x,I,R,a,7,o[0]),R=d(R,B,x,I,c,12,o[1]),I=d(I,R,B,x,f,17,o[2]),x=d(x,I,R,B,p,22,o[3]),B=d(B,x,I,R,g,7,o[4]),R=d(R,B,x,I,m,12,o[5]),I=d(I,R,B,x,y,17,o[6]),x=d(x,I,R,B,v,22,o[7]),B=d(B,x,I,R,b,7,o[8]),R=d(R,B,x,I,_,12,o[9]),I=d(I,R,B,x,w,17,o[10]),x=d(x,I,R,B,S,22,o[11]),B=d(B,x,I,R,E,7,o[12]),R=d(R,B,x,I,k,12,o[13]),I=d(I,R,B,x,T,17,o[14]),B=l(B,x=d(x,I,R,B,A,22,o[15]),I,R,c,5,o[16]),R=l(R,B,x,I,y,9,o[17]),I=l(I,R,B,x,S,14,o[18]),x=l(x,I,R,B,a,20,o[19]),B=l(B,x,I,R,m,5,o[20]),R=l(R,B,x,I,w,9,o[21]),I=l(I,R,B,x,A,14,o[22]),x=l(x,I,R,B,g,20,o[23]),B=l(B,x,I,R,_,5,o[24]),R=l(R,B,x,I,T,9,o[25]),I=l(I,R,B,x,p,14,o[26]),x=l(x,I,R,B,b,20,o[27]),B=l(B,x,I,R,k,5,o[28]),R=l(R,B,x,I,f,9,o[29]),I=l(I,R,B,x,v,14,o[30]),B=h(B,x=l(x,I,R,B,E,20,o[31]),I,R,m,4,o[32]),R=h(R,B,x,I,b,11,o[33]),I=h(I,R,B,x,S,16,o[34]),x=h(x,I,R,B,T,23,o[35]),B=h(B,x,I,R,c,4,o[36]),R=h(R,B,x,I,g,11,o[37]),I=h(I,R,B,x,v,16,o[38]),x=h(x,I,R,B,w,23,o[39]),B=h(B,x,I,R,k,4,o[40]),R=h(R,B,x,I,a,11,o[41]),I=h(I,R,B,x,p,16,o[42]),x=h(x,I,R,B,y,23,o[43]),B=h(B,x,I,R,_,4,o[44]),R=h(R,B,x,I,E,11,o[45]),I=h(I,R,B,x,A,16,o[46]),B=u(B,x=h(x,I,R,B,f,23,o[47]),I,R,a,6,o[48]),R=u(R,B,x,I,v,10,o[49]),I=u(I,R,B,x,T,15,o[50]),x=u(x,I,R,B,m,21,o[51]),B=u(B,x,I,R,E,6,o[52]),R=u(R,B,x,I,p,10,o[53]),I=u(I,R,B,x,w,15,o[54]),x=u(x,I,R,B,c,21,o[55]),B=u(B,x,I,R,b,6,o[56]),R=u(R,B,x,I,A,10,o[57]),I=u(I,R,B,x,y,15,o[58]),x=u(x,I,R,B,k,21,o[59]),B=u(B,x,I,R,g,6,o[60]),R=u(R,B,x,I,S,10,o[61]),I=u(I,R,B,x,f,15,o[62]),x=u(x,I,R,B,_,21,o[63]),s[0]=s[0]+B|0,s[1]=s[1]+x|0,s[2]=s[2]+I|0,s[3]=s[3]+R|0},_doFinalize:function(){var e=this._data,i=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;i[r>>>5]|=128<<24-r%32;var s=t.floor(n/4294967296),a=n;i[15+(r+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),i[14+(r+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e.sigBytes=4*(i.length+1),this._process();for(var o=this._hash,c=o.words,d=0;d<4;d++){var l=c[d];c[d]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return o},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}});function d(t,e,i,n,r,s,a){var o=t+(e&i|~e&n)+r+a;return(o<<s|o>>>32-s)+e}function l(t,e,i,n,r,s,a){var o=t+(e&n|i&~n)+r+a;return(o<<s|o>>>32-s)+e}function h(t,e,i,n,r,s,a){var o=t+(e^i^n)+r+a;return(o<<s|o>>>32-s)+e}function u(t,e,i,n,r,s,a){var o=t+(i^(e|~n))+r+a;return(o<<s|o>>>32-s)+e}e.MD5=r._createHelper(c),e.HmacMD5=r._createHmacHelper(c)}(Math),function(){var t=s,e=t.lib,i=e.WordArray,n=e.Hasher,r=t.algo,a=[],o=r.SHA1=n.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var i=this._hash.words,n=i[0],r=i[1],s=i[2],o=i[3],c=i[4],d=0;d<80;d++){if(d<16)a[d]=0|t[e+d];else{var l=a[d-3]^a[d-8]^a[d-14]^a[d-16];a[d]=l<<1|l>>>31}var h=(n<<5|n>>>27)+c+a[d];h+=d<20?1518500249+(r&s|~r&o):d<40?1859775393+(r^s^o):d<60?(r&s|r&o|s&o)-1894007588:(r^s^o)-899497514,c=o,o=s,s=r<<30|r>>>2,r=n,n=h}i[0]=i[0]+n|0,i[1]=i[1]+r|0,i[2]=i[2]+s|0,i[3]=i[3]+o|0,i[4]=i[4]+c|0},_doFinalize:function(){var t=this._data,e=t.words,i=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=Math.floor(i/4294967296),e[15+(n+64>>>9<<4)]=i,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t}});t.SHA1=n._createHelper(o),t.HmacSHA1=n._createHmacHelper(o)}(),function(t){var e=s,i=e.lib,n=i.WordArray,r=i.Hasher,a=e.algo,o=[],c=[];!function(){function e(e){for(var i=t.sqrt(e),n=2;n<=i;n++)if(!(e%n))return!1;return!0}function i(t){return 4294967296*(t-(0|t))|0}for(var n=2,r=0;r<64;)e(n)&&(r<8&&(o[r]=i(t.pow(n,.5))),c[r]=i(t.pow(n,1/3)),r++),n++}();var d=[],l=a.SHA256=r.extend({_doReset:function(){this._hash=new n.init(o.slice(0))},_doProcessBlock:function(t,e){for(var i=this._hash.words,n=i[0],r=i[1],s=i[2],a=i[3],o=i[4],l=i[5],h=i[6],u=i[7],f=0;f<64;f++){if(f<16)d[f]=0|t[e+f];else{var p=d[f-15],g=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,m=d[f-2],y=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;d[f]=g+d[f-7]+y+d[f-16]}var v=n&r^n&s^r&s,b=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),_=u+((o<<26|o>>>6)^(o<<21|o>>>11)^(o<<7|o>>>25))+(o&l^~o&h)+c[f]+d[f];u=h,h=l,l=o,o=a+_|0,a=s,s=r,r=n,n=_+(b+v)|0}i[0]=i[0]+n|0,i[1]=i[1]+r|0,i[2]=i[2]+s|0,i[3]=i[3]+a|0,i[4]=i[4]+o|0,i[5]=i[5]+l|0,i[6]=i[6]+h|0,i[7]=i[7]+u|0},_doFinalize:function(){var e=this._data,i=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return i[r>>>5]|=128<<24-r%32,i[14+(r+64>>>9<<4)]=t.floor(n/4294967296),i[15+(r+64>>>9<<4)]=n,e.sigBytes=4*i.length,this._process(),this._hash},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=r._createHelper(l),e.HmacSHA256=r._createHmacHelper(l)}(Math),function(){var t=s,e=t.lib.WordArray,i=t.enc;i.Utf16=i.Utf16BE={stringify:function(t){for(var e=t.words,i=t.sigBytes,n=[],r=0;r<i;r+=2){var s=e[r>>>2]>>>16-r%4*8&65535;n.push(String.fromCharCode(s))}return n.join("")},parse:function(t){for(var i=t.length,n=[],r=0;r<i;r++)n[r>>>1]|=t.charCodeAt(r)<<16-r%2*16;return e.create(n,2*i)}};function n(t){return t<<8&4278255360|t>>>8&16711935}i.Utf16LE={stringify:function(t){for(var e=t.words,i=t.sigBytes,r=[],s=0;s<i;s+=2){var a=n(e[s>>>2]>>>16-s%4*8&65535);r.push(String.fromCharCode(a))}return r.join("")},parse:function(t){for(var i=t.length,r=[],s=0;s<i;s++)r[s>>>1]|=n(t.charCodeAt(s)<<16-s%2*16);return e.create(r,2*i)}}}(),function(){if("function"==typeof ArrayBuffer){var t=s.lib.WordArray,e=t.init;(t.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var i=t.byteLength,n=[],r=0;r<i;r++)n[r>>>2]|=t[r]<<24-r%4*8;e.call(this,n,i)}else e.apply(this,arguments)}).prototype=t}}(),
/** @preserve
   (c) 2012 by CÃ©dric Mesnil. All rights reserved.
    Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
   - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
   */
function(t){var e=s,i=e.lib,n=i.WordArray,r=i.Hasher,a=e.algo,o=n.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=n.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),d=n.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),l=n.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=n.create([0,1518500249,1859775393,2400959708,2840853838]),u=n.create([1352829926,1548603684,1836072691,2053994217,0]),f=a.RIPEMD160=r.extend({_doReset:function(){this._hash=n.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var i=0;i<16;i++){var n=e+i,r=t[n];t[n]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var s,a,f,_,w,S,E,k,T,A,B,x=this._hash.words,I=h.words,R=u.words,C=o.words,O=c.words,D=d.words,H=l.words;S=s=x[0],E=a=x[1],k=f=x[2],T=_=x[3],A=w=x[4];for(i=0;i<80;i+=1)B=s+t[e+C[i]]|0,B+=i<16?p(a,f,_)+I[0]:i<32?g(a,f,_)+I[1]:i<48?m(a,f,_)+I[2]:i<64?y(a,f,_)+I[3]:v(a,f,_)+I[4],B=(B=b(B|=0,D[i]))+w|0,s=w,w=_,_=b(f,10),f=a,a=B,B=S+t[e+O[i]]|0,B+=i<16?v(E,k,T)+R[0]:i<32?y(E,k,T)+R[1]:i<48?m(E,k,T)+R[2]:i<64?g(E,k,T)+R[3]:p(E,k,T)+R[4],B=(B=b(B|=0,H[i]))+A|0,S=A,A=T,T=b(k,10),k=E,E=B;B=x[1]+f+T|0,x[1]=x[2]+_+A|0,x[2]=x[3]+w+S|0,x[3]=x[4]+s+E|0,x[4]=x[0]+a+k|0,x[0]=B},_doFinalize:function(){var t=this._data,e=t.words,i=8*this._nDataBytes,n=8*t.sigBytes;e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t.sigBytes=4*(e.length+1),this._process();for(var r=this._hash,s=r.words,a=0;a<5;a++){var o=s[a];s[a]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}return r},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}});function p(t,e,i){return t^e^i}function g(t,e,i){return t&e|~t&i}function m(t,e,i){return(t|~e)^i}function y(t,e,i){return t&i|e&~i}function v(t,e,i){return t^(e|~i)}function b(t,e){return t<<e|t>>>32-e}e.RIPEMD160=r._createHelper(f),e.HmacRIPEMD160=r._createHmacHelper(f)}(Math),function(){var t=s,e=t.lib.Base,i=t.enc.Utf8;t.algo.HMAC=e.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=i.parse(e));var n=t.blockSize,r=4*n;e.sigBytes>r&&(e=t.finalize(e)),e.clamp();for(var s=this._oKey=e.clone(),a=this._iKey=e.clone(),o=s.words,c=a.words,d=0;d<n;d++)o[d]^=1549556828,c[d]^=909522486;s.sigBytes=a.sigBytes=r,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,i=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(i))}})}(),function(){var t=s,e=t.lib,i=e.Base,n=e.WordArray,r=t.algo,a=r.SHA1,o=r.HMAC,c=r.PBKDF2=i.extend({cfg:i.extend({keySize:4,hasher:a,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var i=this.cfg,r=o.create(i.hasher,t),s=n.create(),a=n.create([1]),c=s.words,d=a.words,l=i.keySize,h=i.iterations;c.length<l;){var u=r.update(e).finalize(a);r.reset();for(var f=u.words,p=f.length,g=u,m=1;m<h;m++){g=r.finalize(g),r.reset();for(var y=g.words,v=0;v<p;v++)f[v]^=y[v]}s.concat(u),d[0]++}return s.sigBytes=4*l,s}});t.PBKDF2=function(t,e,i){return c.create(i).compute(t,e)}}(),function(){var t=s,e=t.lib,i=e.Base,n=e.WordArray,r=t.algo,a=r.MD5,o=r.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:a,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var i,r=this.cfg,s=r.hasher.create(),a=n.create(),o=a.words,c=r.keySize,d=r.iterations;o.length<c;){i&&s.update(i),i=s.update(t).finalize(e),s.reset();for(var l=1;l<d;l++)i=s.finalize(i),s.reset();a.concat(i)}return a.sigBytes=4*c,a}});t.EvpKDF=function(t,e,i){return o.create(i).compute(t,e)}}(),function(){var t=s,e=t.lib.WordArray,i=t.algo,n=i.SHA256,r=i.SHA224=n.extend({_doReset:function(){this._hash=new e.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=n._doFinalize.call(this);return t.sigBytes-=4,t}});t.SHA224=n._createHelper(r),t.HmacSHA224=n._createHmacHelper(r)}(),function(t){var e=s,i=e.lib,n=i.Base,r=i.WordArray,a=e.x64={};a.Word=n.extend({init:function(t,e){this.high=t,this.low=e}}),a.WordArray=n.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,i=[],n=0;n<e;n++){var s=t[n];i.push(s.high),i.push(s.low)}return r.create(i,this.sigBytes)},clone:function(){for(var t=n.clone.call(this),e=t.words=this.words.slice(0),i=e.length,r=0;r<i;r++)e[r]=e[r].clone();return t}})}(),function(t){var e=s,i=e.lib,n=i.WordArray,r=i.Hasher,a=e.x64.Word,o=e.algo,c=[],d=[],l=[];!function(){for(var t=1,e=0,i=0;i<24;i++){c[t+5*e]=(i+1)*(i+2)/2%64;var n=(2*t+3*e)%5;t=e%5,e=n}for(t=0;t<5;t++)for(e=0;e<5;e++)d[t+5*e]=e+(2*t+3*e)%5*5;for(var r=1,s=0;s<24;s++){for(var o=0,h=0,u=0;u<7;u++){if(1&r){var f=(1<<u)-1;f<32?h^=1<<f:o^=1<<f-32}128&r?r=r<<1^113:r<<=1}l[s]=a.create(o,h)}}();var h=[];!function(){for(var t=0;t<25;t++)h[t]=a.create()}();var u=o.SHA3=r.extend({cfg:r.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;e<25;e++)t[e]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var i=this._state,n=this.blockSize/2,r=0;r<n;r++){var s=t[e+2*r],a=t[e+2*r+1];s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),(x=i[r]).high^=a,x.low^=s}for(var o=0;o<24;o++){for(var u=0;u<5;u++){for(var f=0,p=0,g=0;g<5;g++){f^=(x=i[u+5*g]).high,p^=x.low}var m=h[u];m.high=f,m.low=p}for(u=0;u<5;u++){var y=h[(u+4)%5],v=h[(u+1)%5],b=v.high,_=v.low;for(f=y.high^(b<<1|_>>>31),p=y.low^(_<<1|b>>>31),g=0;g<5;g++){(x=i[u+5*g]).high^=f,x.low^=p}}for(var w=1;w<25;w++){var S=(x=i[w]).high,E=x.low,k=c[w];k<32?(f=S<<k|E>>>32-k,p=E<<k|S>>>32-k):(f=E<<k-32|S>>>64-k,p=S<<k-32|E>>>64-k);var T=h[d[w]];T.high=f,T.low=p}var A=h[0],B=i[0];A.high=B.high,A.low=B.low;for(u=0;u<5;u++)for(g=0;g<5;g++){var x=i[w=u+5*g],I=h[w],R=h[(u+1)%5+5*g],C=h[(u+2)%5+5*g];x.high=I.high^~R.high&C.high,x.low=I.low^~R.low&C.low}x=i[0];var O=l[o];x.high^=O.high,x.low^=O.low}},_doFinalize:function(){var e=this._data,i=e.words,r=(this._nDataBytes,8*e.sigBytes),s=32*this.blockSize;i[r>>>5]|=1<<24-r%32,i[(t.ceil((r+1)/s)*s>>>5)-1]|=128,e.sigBytes=4*i.length,this._process();for(var a=this._state,o=this.cfg.outputLength/8,c=o/8,d=[],l=0;l<c;l++){var h=a[l],u=h.high,f=h.low;u=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8),f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),d.push(f),d.push(u)}return new n.init(d,o)},clone:function(){for(var t=r.clone.call(this),e=t._state=this._state.slice(0),i=0;i<25;i++)e[i]=e[i].clone();return t}});e.SHA3=r._createHelper(u),e.HmacSHA3=r._createHmacHelper(u)}(Math),function(){var t=s,e=t.lib.Hasher,i=t.x64,n=i.Word,r=i.WordArray,a=t.algo;function o(){return n.create.apply(n,arguments)}var c=[o(1116352408,3609767458),o(1899447441,602891725),o(3049323471,3964484399),o(3921009573,2173295548),o(961987163,4081628472),o(1508970993,3053834265),o(2453635748,2937671579),o(2870763221,3664609560),o(3624381080,2734883394),o(310598401,1164996542),o(607225278,1323610764),o(1426881987,3590304994),o(1925078388,4068182383),o(2162078206,991336113),o(2614888103,633803317),o(3248222580,3479774868),o(3835390401,2666613458),o(4022224774,944711139),o(264347078,2341262773),o(604807628,2007800933),o(770255983,1495990901),o(1249150122,1856431235),o(1555081692,3175218132),o(1996064986,2198950837),o(2554220882,3999719339),o(2821834349,766784016),o(2952996808,2566594879),o(3210313671,3203337956),o(3336571891,1034457026),o(3584528711,2466948901),o(113926993,3758326383),o(338241895,168717936),o(666307205,1188179964),o(773529912,1546045734),o(1294757372,1522805485),o(1396182291,2643833823),o(1695183700,2343527390),o(1986661051,1014477480),o(2177026350,1206759142),o(2456956037,344077627),o(2730485921,1290863460),o(2820302411,3158454273),o(3259730800,3505952657),o(3345764771,106217008),o(3516065817,3606008344),o(3600352804,1432725776),o(4094571909,1467031594),o(275423344,851169720),o(430227734,3100823752),o(506948616,1363258195),o(659060556,3750685593),o(883997877,3785050280),o(958139571,3318307427),o(1322822218,3812723403),o(1537002063,2003034995),o(1747873779,3602036899),o(1955562222,1575990012),o(2024104815,1125592928),o(2227730452,2716904306),o(2361852424,442776044),o(2428436474,593698344),o(2756734187,3733110249),o(3204031479,2999351573),o(3329325298,3815920427),o(3391569614,3928383900),o(3515267271,566280711),o(3940187606,3454069534),o(4118630271,4000239992),o(116418474,1914138554),o(174292421,2731055270),o(289380356,3203993006),o(460393269,320620315),o(685471733,587496836),o(852142971,1086792851),o(1017036298,365543100),o(1126000580,2618297676),o(1288033470,3409855158),o(1501505948,4234509866),o(1607167915,987167468),o(1816402316,1246189591)],d=[];!function(){for(var t=0;t<80;t++)d[t]=o()}();var l=a.SHA512=e.extend({_doReset:function(){this._hash=new r.init([new n.init(1779033703,4089235720),new n.init(3144134277,2227873595),new n.init(1013904242,4271175723),new n.init(2773480762,1595750129),new n.init(1359893119,2917565137),new n.init(2600822924,725511199),new n.init(528734635,4215389547),new n.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var i=this._hash.words,n=i[0],r=i[1],s=i[2],a=i[3],o=i[4],l=i[5],h=i[6],u=i[7],f=n.high,p=n.low,g=r.high,m=r.low,y=s.high,v=s.low,b=a.high,_=a.low,w=o.high,S=o.low,E=l.high,k=l.low,T=h.high,A=h.low,B=u.high,x=u.low,I=f,R=p,C=g,O=m,D=y,H=v,U=b,P=_,z=w,L=S,j=E,M=k,N=T,V=A,F=B,q=x,K=0;K<80;K++){var W,Y,G=d[K];if(K<16)Y=G.high=0|t[e+2*K],W=G.low=0|t[e+2*K+1];else{var X=d[K-15],Q=X.high,J=X.low,$=(Q>>>1|J<<31)^(Q>>>8|J<<24)^Q>>>7,Z=(J>>>1|Q<<31)^(J>>>8|Q<<24)^(J>>>7|Q<<25),tt=d[K-2],et=tt.high,it=tt.low,nt=(et>>>19|it<<13)^(et<<3|it>>>29)^et>>>6,rt=(it>>>19|et<<13)^(it<<3|et>>>29)^(it>>>6|et<<26),st=d[K-7],at=st.high,ot=st.low,ct=d[K-16],dt=ct.high,lt=ct.low;Y=(Y=(Y=$+at+((W=Z+ot)>>>0<Z>>>0?1:0))+nt+((W+=rt)>>>0<rt>>>0?1:0))+dt+((W+=lt)>>>0<lt>>>0?1:0),G.high=Y,G.low=W}var ht,ut=z&j^~z&N,ft=L&M^~L&V,pt=I&C^I&D^C&D,gt=R&O^R&H^O&H,mt=(I>>>28|R<<4)^(I<<30|R>>>2)^(I<<25|R>>>7),yt=(R>>>28|I<<4)^(R<<30|I>>>2)^(R<<25|I>>>7),vt=(z>>>14|L<<18)^(z>>>18|L<<14)^(z<<23|L>>>9),bt=(L>>>14|z<<18)^(L>>>18|z<<14)^(L<<23|z>>>9),_t=c[K],wt=_t.high,St=_t.low,Et=F+vt+((ht=q+bt)>>>0<q>>>0?1:0),kt=yt+gt;F=N,q=V,N=j,V=M,j=z,M=L,z=U+(Et=(Et=(Et=Et+ut+((ht=ht+ft)>>>0<ft>>>0?1:0))+wt+((ht=ht+St)>>>0<St>>>0?1:0))+Y+((ht=ht+W)>>>0<W>>>0?1:0))+((L=P+ht|0)>>>0<P>>>0?1:0)|0,U=D,P=H,D=C,H=O,C=I,O=R,I=Et+(mt+pt+(kt>>>0<yt>>>0?1:0))+((R=ht+kt|0)>>>0<ht>>>0?1:0)|0}p=n.low=p+R,n.high=f+I+(p>>>0<R>>>0?1:0),m=r.low=m+O,r.high=g+C+(m>>>0<O>>>0?1:0),v=s.low=v+H,s.high=y+D+(v>>>0<H>>>0?1:0),_=a.low=_+P,a.high=b+U+(_>>>0<P>>>0?1:0),S=o.low=S+L,o.high=w+z+(S>>>0<L>>>0?1:0),k=l.low=k+M,l.high=E+j+(k>>>0<M>>>0?1:0),A=h.low=A+V,h.high=T+N+(A>>>0<V>>>0?1:0),x=u.low=x+q,u.high=B+F+(x>>>0<q>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,i=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[30+(n+128>>>10<<5)]=Math.floor(i/4294967296),e[31+(n+128>>>10<<5)]=i,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=e.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32});t.SHA512=e._createHelper(l),t.HmacSHA512=e._createHmacHelper(l)}(),function(){var t=s,e=t.x64,i=e.Word,n=e.WordArray,r=t.algo,a=r.SHA512,o=r.SHA384=a.extend({_doReset:function(){this._hash=new n.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var t=a._doFinalize.call(this);return t.sigBytes-=16,t}});t.SHA384=a._createHelper(o),t.HmacSHA384=a._createHmacHelper(o)}(),s.lib.Cipher||function(t){var e=s,i=e.lib,n=i.Base,r=i.WordArray,a=i.BufferedBlockAlgorithm,o=e.enc,c=(o.Utf8,o.Base64),d=e.algo.EvpKDF,l=i.Cipher=a.extend({cfg:n.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,i){this.cfg=this.cfg.extend(i),this._xformMode=t,this._key=e,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?b:y}return function(e){return{encrypt:function(i,n,r){return t(n).encrypt(e,i,n,r)},decrypt:function(i,n,r){return t(n).decrypt(e,i,n,r)}}}}()}),h=(i.StreamCipher=l.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),e.mode={}),u=i.BlockCipherMode=n.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),f=h.CBC=function(){var t=u.extend();function e(t,e,i){var n,r=this._iv;r?(n=r,this._iv=void 0):n=this._prevBlock;for(var s=0;s<i;s++)t[e+s]^=n[s]}return t.Encryptor=t.extend({processBlock:function(t,i){var n=this._cipher,r=n.blockSize;e.call(this,t,i,r),n.encryptBlock(t,i),this._prevBlock=t.slice(i,i+r)}}),t.Decryptor=t.extend({processBlock:function(t,i){var n=this._cipher,r=n.blockSize,s=t.slice(i,i+r);n.decryptBlock(t,i),e.call(this,t,i,r),this._prevBlock=s}}),t}(),p=(e.pad={}).Pkcs7={pad:function(t,e){for(var i=4*e,n=i-t.sigBytes%i,s=n<<24|n<<16|n<<8|n,a=[],o=0;o<n;o+=4)a.push(s);var c=r.create(a,n);t.concat(c)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},g=(i.BlockCipher=l.extend({cfg:l.cfg.extend({mode:f,padding:p}),reset:function(){var t;l.reset.call(this);var e=this.cfg,i=e.iv,n=e.mode;this._xformMode==this._ENC_XFORM_MODE?t=n.createEncryptor:(t=n.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==t?this._mode.init(this,i&&i.words):(this._mode=t.call(n,this,i&&i.words),this._mode.__creator=t)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t,e=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(e.pad(this._data,this.blockSize),t=this._process(!0)):(t=this._process(!0),e.unpad(t)),t},blockSize:4}),i.CipherParams=n.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}})),m=(e.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,i=t.salt;return(i?r.create([1398893684,1701076831]).concat(i).concat(e):e).toString(c)},parse:function(t){var e,i=c.parse(t),n=i.words;return 1398893684==n[0]&&1701076831==n[1]&&(e=r.create(n.slice(2,4)),n.splice(0,4),i.sigBytes-=16),g.create({ciphertext:i,salt:e})}},y=i.SerializableCipher=n.extend({cfg:n.extend({format:m}),encrypt:function(t,e,i,n){n=this.cfg.extend(n);var r=t.createEncryptor(i,n),s=r.finalize(e),a=r.cfg;return g.create({ciphertext:s,key:i,iv:a.iv,algorithm:t,mode:a.mode,padding:a.padding,blockSize:t.blockSize,formatter:n.format})},decrypt:function(t,e,i,n){return n=this.cfg.extend(n),e=this._parse(e,n.format),t.createDecryptor(i,n).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),v=(e.kdf={}).OpenSSL={execute:function(t,e,i,n){n||(n=r.random(8));var s=d.create({keySize:e+i}).compute(t,n),a=r.create(s.words.slice(e),4*i);return s.sigBytes=4*e,g.create({key:s,iv:a,salt:n})}},b=i.PasswordBasedCipher=y.extend({cfg:y.cfg.extend({kdf:v}),encrypt:function(t,e,i,n){var r=(n=this.cfg.extend(n)).kdf.execute(i,t.keySize,t.ivSize);n.iv=r.iv;var s=y.encrypt.call(this,t,e,r.key,n);return s.mixIn(r),s},decrypt:function(t,e,i,n){n=this.cfg.extend(n),e=this._parse(e,n.format);var r=n.kdf.execute(i,t.keySize,t.ivSize,e.salt);return n.iv=r.iv,y.decrypt.call(this,t,e,r.key,n)}})}(),s.mode.CFB=function(){var t=s.lib.BlockCipherMode.extend();function e(t,e,i,n){var r,s=this._iv;s?(r=s.slice(0),this._iv=void 0):r=this._prevBlock,n.encryptBlock(r,0);for(var a=0;a<i;a++)t[e+a]^=r[a]}return t.Encryptor=t.extend({processBlock:function(t,i){var n=this._cipher,r=n.blockSize;e.call(this,t,i,r,n),this._prevBlock=t.slice(i,i+r)}}),t.Decryptor=t.extend({processBlock:function(t,i){var n=this._cipher,r=n.blockSize,s=t.slice(i,i+r);e.call(this,t,i,r,n),this._prevBlock=s}}),t}(),s.mode.ECB=((i=s.lib.BlockCipherMode.extend()).Encryptor=i.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),i.Decryptor=i.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),i),s.pad.AnsiX923={pad:function(t,e){var i=t.sigBytes,n=4*e,r=n-i%n,s=i+r-1;t.clamp(),t.words[s>>>2]|=r<<24-s%4*8,t.sigBytes+=r},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},s.pad.Iso10126={pad:function(t,e){var i=4*e,n=i-t.sigBytes%i;t.concat(s.lib.WordArray.random(n-1)).concat(s.lib.WordArray.create([n<<24],1))},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},s.pad.Iso97971={pad:function(t,e){t.concat(s.lib.WordArray.create([2147483648],1)),s.pad.ZeroPadding.pad(t,e)},unpad:function(t){s.pad.ZeroPadding.unpad(t),t.sigBytes--}},s.mode.OFB=(n=s.lib.BlockCipherMode.extend(),r=n.Encryptor=n.extend({processBlock:function(t,e){var i=this._cipher,n=i.blockSize,r=this._iv,s=this._keystream;r&&(s=this._keystream=r.slice(0),this._iv=void 0),i.encryptBlock(s,0);for(var a=0;a<n;a++)t[e+a]^=s[a]}}),n.Decryptor=r,n),s.pad.NoPadding={pad:function(){},unpad:function(){}},function(t){var e=s,i=e.lib.CipherParams,n=e.enc.Hex;e.format.Hex={stringify:function(t){return t.ciphertext.toString(n)},parse:function(t){var e=n.parse(t);return i.create({ciphertext:e})}}}(),function(){var t=s,e=t.lib.BlockCipher,i=t.algo,n=[],r=[],a=[],o=[],c=[],d=[],l=[],h=[],u=[],f=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var i=0,s=0;for(e=0;e<256;e++){var p=s^s<<1^s<<2^s<<3^s<<4;p=p>>>8^255&p^99,n[i]=p,r[p]=i;var g=t[i],m=t[g],y=t[m],v=257*t[p]^16843008*p;a[i]=v<<24|v>>>8,o[i]=v<<16|v>>>16,c[i]=v<<8|v>>>24,d[i]=v;v=16843009*y^65537*m^257*g^16843008*i;l[p]=v<<24|v>>>8,h[p]=v<<16|v>>>16,u[p]=v<<8|v>>>24,f[p]=v,i?(i=g^t[t[t[y^g]]],s^=t[t[s]]):i=s=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],g=i.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,i=t.sigBytes/4,r=4*((this._nRounds=i+6)+1),s=this._keySchedule=[],a=0;a<r;a++)a<i?s[a]=e[a]:(d=s[a-1],a%i?i>6&&a%i==4&&(d=n[d>>>24]<<24|n[d>>>16&255]<<16|n[d>>>8&255]<<8|n[255&d]):(d=n[(d=d<<8|d>>>24)>>>24]<<24|n[d>>>16&255]<<16|n[d>>>8&255]<<8|n[255&d],d^=p[a/i|0]<<24),s[a]=s[a-i]^d);for(var o=this._invKeySchedule=[],c=0;c<r;c++){a=r-c;if(c%4)var d=s[a];else d=s[a-4];o[c]=c<4||a<=4?d:l[n[d>>>24]]^h[n[d>>>16&255]]^u[n[d>>>8&255]]^f[n[255&d]]}}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,a,o,c,d,n)},decryptBlock:function(t,e){var i=t[e+1];t[e+1]=t[e+3],t[e+3]=i,this._doCryptBlock(t,e,this._invKeySchedule,l,h,u,f,r);i=t[e+1];t[e+1]=t[e+3],t[e+3]=i},_doCryptBlock:function(t,e,i,n,r,s,a,o){for(var c=this._nRounds,d=t[e]^i[0],l=t[e+1]^i[1],h=t[e+2]^i[2],u=t[e+3]^i[3],f=4,p=1;p<c;p++){var g=n[d>>>24]^r[l>>>16&255]^s[h>>>8&255]^a[255&u]^i[f++],m=n[l>>>24]^r[h>>>16&255]^s[u>>>8&255]^a[255&d]^i[f++],y=n[h>>>24]^r[u>>>16&255]^s[d>>>8&255]^a[255&l]^i[f++],v=n[u>>>24]^r[d>>>16&255]^s[l>>>8&255]^a[255&h]^i[f++];d=g,l=m,h=y,u=v}g=(o[d>>>24]<<24|o[l>>>16&255]<<16|o[h>>>8&255]<<8|o[255&u])^i[f++],m=(o[l>>>24]<<24|o[h>>>16&255]<<16|o[u>>>8&255]<<8|o[255&d])^i[f++],y=(o[h>>>24]<<24|o[u>>>16&255]<<16|o[d>>>8&255]<<8|o[255&l])^i[f++],v=(o[u>>>24]<<24|o[d>>>16&255]<<16|o[l>>>8&255]<<8|o[255&h])^i[f++];t[e]=g,t[e+1]=m,t[e+2]=y,t[e+3]=v},keySize:8});t.AES=e._createHelper(g)}(),function(){var t=s,e=t.lib,i=e.WordArray,n=e.BlockCipher,r=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],o=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],d=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=r.DES=n.extend({_doReset:function(){for(var t=this._key.words,e=[],i=0;i<56;i++){var n=a[i]-1;e[i]=t[n>>>5]>>>31-n%32&1}for(var r=this._subKeys=[],s=0;s<16;s++){var d=r[s]=[],l=c[s];for(i=0;i<24;i++)d[i/6|0]|=e[(o[i]-1+l)%28]<<31-i%6,d[4+(i/6|0)]|=e[28+(o[i+24]-1+l)%28]<<31-i%6;d[0]=d[0]<<1|d[0]>>>31;for(i=1;i<7;i++)d[i]=d[i]>>>4*(i-1)+3;d[7]=d[7]<<5|d[7]>>>27}var h=this._invSubKeys=[];for(i=0;i<16;i++)h[i]=r[15-i]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(t,e,i){this._lBlock=t[e],this._rBlock=t[e+1],u.call(this,4,252645135),u.call(this,16,65535),f.call(this,2,858993459),f.call(this,8,16711935),u.call(this,1,1431655765);for(var n=0;n<16;n++){for(var r=i[n],s=this._lBlock,a=this._rBlock,o=0,c=0;c<8;c++)o|=d[c][((a^r[c])&l[c])>>>0];this._lBlock=a,this._rBlock=s^o}var h=this._lBlock;this._lBlock=this._rBlock,this._rBlock=h,u.call(this,1,1431655765),f.call(this,8,16711935),f.call(this,2,858993459),u.call(this,16,65535),u.call(this,4,252645135),t[e]=this._lBlock,t[e+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function u(t,e){var i=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=i,this._lBlock^=i<<t}function f(t,e){var i=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=i,this._rBlock^=i<<t}t.DES=n._createHelper(h);var p=r.TripleDES=n.extend({_doReset:function(){var t=this._key.words;if(2!==t.length&&4!==t.length&&t.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var e=t.slice(0,2),n=t.length<4?t.slice(0,2):t.slice(2,4),r=t.length<6?t.slice(0,2):t.slice(4,6);this._des1=h.createEncryptor(i.create(e)),this._des2=h.createEncryptor(i.create(n)),this._des3=h.createEncryptor(i.create(r))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=n._createHelper(p)}(),function(){var t=s,e=t.lib.StreamCipher,i=t.algo,n=i.RC4=e.extend({_doReset:function(){for(var t=this._key,e=t.words,i=t.sigBytes,n=this._S=[],r=0;r<256;r++)n[r]=r;r=0;for(var s=0;r<256;r++){var a=r%i,o=e[a>>>2]>>>24-a%4*8&255;s=(s+n[r]+o)%256;var c=n[r];n[r]=n[s],n[s]=c}this._i=this._j=0},_doProcessBlock:function(t,e){t[e]^=r.call(this)},keySize:8,ivSize:0});function r(){for(var t=this._S,e=this._i,i=this._j,n=0,r=0;r<4;r++){i=(i+t[e=(e+1)%256])%256;var s=t[e];t[e]=t[i],t[i]=s,n|=t[(t[e]+t[i])%256]<<24-8*r}return this._i=e,this._j=i,n}t.RC4=e._createHelper(n);var a=i.RC4Drop=n.extend({cfg:n.cfg.extend({drop:192}),_doReset:function(){n._doReset.call(this);for(var t=this.cfg.drop;t>0;t--)r.call(this)}});t.RC4Drop=e._createHelper(a)}(),
/** @preserve
   * Counter block mode compatible with  Dr Brian Gladman fileenc.c
   * derived from CryptoJS.mode.CTR
   * Jan Hruby jhruby.web@gmail.com
   */
s.mode.CTRGladman=function(){var t=s.lib.BlockCipherMode.extend();function e(t){if(255==(t>>24&255)){var e=t>>16&255,i=t>>8&255,n=255&t;255===e?(e=0,255===i?(i=0,255===n?n=0:++n):++i):++e,t=0,t+=e<<16,t+=i<<8,t+=n}else t+=1<<24;return t}var i=t.Encryptor=t.extend({processBlock:function(t,i){var n=this._cipher,r=n.blockSize,s=this._iv,a=this._counter;s&&(a=this._counter=s.slice(0),this._iv=void 0),function(t){0===(t[0]=e(t[0]))&&(t[1]=e(t[1]))}(a);var o=a.slice(0);n.encryptBlock(o,0);for(var c=0;c<r;c++)t[i+c]^=o[c]}});return t.Decryptor=i,t}(),function(){var t=s,e=t.lib.StreamCipher,i=t.algo,n=[],r=[],a=[],o=i.Rabbit=e.extend({_doReset:function(){for(var t=this._key.words,e=this.cfg.iv,i=0;i<4;i++)t[i]=16711935&(t[i]<<8|t[i]>>>24)|4278255360&(t[i]<<24|t[i]>>>8);var n=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],r=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(i=0;i<4;i++)c.call(this);for(i=0;i<8;i++)r[i]^=n[i+4&7];if(e){var s=e.words,a=s[0],o=s[1],d=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),l=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),h=d>>>16|4294901760&l,u=l<<16|65535&d;r[0]^=d,r[1]^=h,r[2]^=l,r[3]^=u,r[4]^=d,r[5]^=h,r[6]^=l,r[7]^=u;for(i=0;i<4;i++)c.call(this)}},_doProcessBlock:function(t,e){var i=this._X;c.call(this),n[0]=i[0]^i[5]>>>16^i[3]<<16,n[1]=i[2]^i[7]>>>16^i[5]<<16,n[2]=i[4]^i[1]>>>16^i[7]<<16,n[3]=i[6]^i[3]>>>16^i[1]<<16;for(var r=0;r<4;r++)n[r]=16711935&(n[r]<<8|n[r]>>>24)|4278255360&(n[r]<<24|n[r]>>>8),t[e+r]^=n[r]},blockSize:4,ivSize:2});function c(){for(var t=this._X,e=this._C,i=0;i<8;i++)r[i]=e[i];e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<r[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<r[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<r[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<r[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<r[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<r[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<r[6]>>>0?1:0)|0,this._b=e[7]>>>0<r[7]>>>0?1:0;for(i=0;i<8;i++){var n=t[i]+e[i],s=65535&n,o=n>>>16,c=((s*s>>>17)+s*o>>>15)+o*o,d=((4294901760&n)*n|0)+((65535&n)*n|0);a[i]=c^d}t[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,t[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,t[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,t[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,t[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,t[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,t[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,t[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t.Rabbit=e._createHelper(o)}(),s.mode.CTR=function(){var t=s.lib.BlockCipherMode.extend(),e=t.Encryptor=t.extend({processBlock:function(t,e){var i=this._cipher,n=i.blockSize,r=this._iv,s=this._counter;r&&(s=this._counter=r.slice(0),this._iv=void 0);var a=s.slice(0);i.encryptBlock(a,0),s[n-1]=s[n-1]+1|0;for(var o=0;o<n;o++)t[e+o]^=a[o]}});return t.Decryptor=e,t}(),function(){var t=s,e=t.lib.StreamCipher,i=t.algo,n=[],r=[],a=[],o=i.RabbitLegacy=e.extend({_doReset:function(){var t=this._key.words,e=this.cfg.iv,i=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],n=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(var r=0;r<4;r++)c.call(this);for(r=0;r<8;r++)n[r]^=i[r+4&7];if(e){var s=e.words,a=s[0],o=s[1],d=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),l=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),h=d>>>16|4294901760&l,u=l<<16|65535&d;n[0]^=d,n[1]^=h,n[2]^=l,n[3]^=u,n[4]^=d,n[5]^=h,n[6]^=l,n[7]^=u;for(r=0;r<4;r++)c.call(this)}},_doProcessBlock:function(t,e){var i=this._X;c.call(this),n[0]=i[0]^i[5]>>>16^i[3]<<16,n[1]=i[2]^i[7]>>>16^i[5]<<16,n[2]=i[4]^i[1]>>>16^i[7]<<16,n[3]=i[6]^i[3]>>>16^i[1]<<16;for(var r=0;r<4;r++)n[r]=16711935&(n[r]<<8|n[r]>>>24)|4278255360&(n[r]<<24|n[r]>>>8),t[e+r]^=n[r]},blockSize:4,ivSize:2});function c(){for(var t=this._X,e=this._C,i=0;i<8;i++)r[i]=e[i];e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<r[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<r[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<r[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<r[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<r[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<r[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<r[6]>>>0?1:0)|0,this._b=e[7]>>>0<r[7]>>>0?1:0;for(i=0;i<8;i++){var n=t[i]+e[i],s=65535&n,o=n>>>16,c=((s*s>>>17)+s*o>>>15)+o*o,d=((4294901760&n)*n|0)+((65535&n)*n|0);a[i]=c^d}t[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,t[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,t[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,t[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,t[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,t[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,t[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,t[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t.RabbitLegacy=e._createHelper(o)}(),s.pad.ZeroPadding={pad:function(t,e){var i=4*e;t.clamp(),t.sigBytes+=i-(t.sigBytes%i||i)},unpad:function(t){var e=t.words,i=t.sigBytes-1;for(i=t.sigBytes-1;i>=0;i--)if(e[i>>>2]>>>24-i%4*8&255){t.sigBytes=i+1;break}}},s}));var chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function InvalidCharacterError(t){this.message=t}function polyfill(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new InvalidCharacterError("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,n,r=0,s=0,a="";n=e.charAt(s++);~n&&(i=r%4?64*i+n:n,r++%4)?a+=String.fromCharCode(255&i>>(-2*r&6)):0)n=chars.indexOf(n);return a}InvalidCharacterError.prototype=new Error,InvalidCharacterError.prototype.name="InvalidCharacterError";var atob="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||polyfill;function b64DecodeUnicode(t){return decodeURIComponent(atob(t).replace(/(.)/g,(function(t,e){var i=e.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i})))}function base64_url_decode(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}try{return b64DecodeUnicode(e)}catch(t){return atob(e)}}function InvalidTokenError(t){this.message=t}function jwtDecode(t,e){if("string"!=typeof t)throw new InvalidTokenError("Invalid token specified");var i=!0===(e=e||{}).header?0:1;try{return JSON.parse(base64_url_decode(t.split(".")[i]))}catch(t){throw new InvalidTokenError("Invalid token specified: "+t.message)}}InvalidTokenError.prototype=new Error,InvalidTokenError.prototype.name="InvalidTokenError";var _name,_pBreakpts$prototype,_mutatorMap,_pActiveUser=function(t){for(var e in t)this[e]=t[e];return this.active=!1,this};function _defineEnumerableProperties(t,e){for(var i in e){(s=e[i]).configurable=s.enumerable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,i,s)}if(Object.getOwnPropertySymbols)for(var n=Object.getOwnPropertySymbols(e),r=0;r<n.length;r++){var s,a=n[r];(s=e[a]).configurable=s.enumerable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,a,s)}return t}_pActiveUser.prototype={eventsList:["mousemove","scroll","touchstart"],init:function(){var t=this,e=function(e){t.active=!0,t.eventType=e.type,t.unlisten(),t.on&&t.on(t)};return this.events=this.eventsList.reduce((function(t,i){return t[i]=e,t}),{}),this.listen(),this},listen:function(){var t=this;this.events&&Object.keys(this.events).forEach((function(e){return document.addEventListener(e,t.events[e])}))},unlisten:function(){var t=this;this.events&&Object.keys(this.events).forEach((function(e){return document.removeEventListener(e,t.events[e])}))}};var _pBreakpts=function(t){return this.prefix=t||"",this};_pBreakpts.prototype=(_pBreakpts$prototype={name:"",defaultDevices:[{name:"Desktop",type:"Desktop",orientation:"Landscape",bidderDeviceType:"desktop",operator:">=",widthLimit:"1200"},{name:"Tablet Landscape",type:"Tablet",orientation:"Landscape",bidderDeviceType:"desktop",operator:">=",widthLimit:"1020"},{name:"Tablet Portrait",type:"Tablet",orientation:"Portrait",bidderDeviceType:"desktop",operator:">=",widthLimit:"748"},{name:"Mobile Landscape",siteName:"marmiton",type:"Mobile",orientation:"Landscape",bidderDeviceType:"mobile",operator:">=",widthLimit:"488"},{name:"Mobile Portrait",type:"Mobile",orientation:"Portrait",bidderDeviceType:"mobile",operator:"<",widthLimit:"600"}],get devices(){var t=localStorage.getItem(this.prefix+":breakpoints");return t&&JSON.parse(t).expires_at>(new Date).getTime()/1e3?JSON.parse(t).values:this.defaultDevices},onChange:function(t){var e=this;window.addEventListener("resize",(function(){e.oldName=e.name,e.name=e.mediaqueries(),e.name!==e.oldName&&e.onChange&&t(e)}))},mediaqueries:function(){for(var t in this.devices){var e=this.devices[t].operator.startsWith(">")?"min-width":"max-width",i="min-width"===e?1:-1,n=this.devices[t].operator.includes("=")?this.devices[t].widthLimit:parseInt(this.devices[t].widthLimit)+1*i;if(window.matchMedia("all and (".concat(e,": ").concat(n,"px)")).matches)return this.value=this.devices[t],this.devices[t].name}},get size(){return[window.innerWidth,window.innerHeight]},getBreakpoint:function(t){return this.devices&&this.devices.find((function(e){return e.name.toLowerCase()===t.toLowerCase()||e.type.toLowerCase()===t.toLowerCase()}))}},(_mutatorMap={})[_name="name"]=_mutatorMap[_name]||{},_mutatorMap[_name].get=function(){return this.mediaqueries()},_defineEnumerableProperties(_pBreakpts$prototype,_mutatorMap),_pBreakpts$prototype);var _pDetector={header:[navigator.userAgent,navigator.appVersion,navigator.vendor,window.opera],data:{os:[{name:"Googlebot",value:"Googlebot",regex:null},{name:"Xbox",value:"xbox",regex:null},{name:"Windows Phone",value:"Windows Phone",regex:/windows phone (?:os)?\s?(\d+(\.\d+)*)/i},{name:"Windows",value:"Win",regex:/Windows ((NT|XP)( \d\d?.\d)?)/i},{name:"iOS",value:"iPhone",regex:/os (\d+([_\s]\d+)*) like mac os x/i},{name:"iOS",value:"iPad",regex:/os (\d+([_\s]\d+)*) like mac os x/i},{name:"Kindle",value:"Silk",regex:/silk\/(\d+(\.\d+)?)/i},{name:"Android",value:"Android",regex:/android[ \/-](\d+(\.\d+)*)/i},{name:"BlackBerry OS",value:"BlackBerry|BB|PlayBook",regex:/rim\stablet\sos\s(\d+(\.\d+)*)/i},{name:"macOS",value:"Mac",regex:/Mac OS X (\d+([_\.\s]\d+)*)/i},{name:"Linux",value:"Linux",version:/(?:rv:)(\d+(\.\d+)?)/i},{name:"Chrome OS",value:"CrOS",regex:/(?:cros|crios)(.*?(?=\)))/i}],device:[{name:"Windows Phone",value:"Windows Phone"},{name:"iPad",value:"iPad"},{name:"iPhone",value:"iPhone"},{name:"Android Tablet",value:"Android(?:.+)(Tablet)"},{name:"Android Mobile",value:"Android(?:.+)(Mobile|Mobi)"},{name:"Android",value:"Android"},{name:"BlackBerry",value:"BlackBerry|BB|PlayBook"},{name:"Chromebook",value:"CrOS"},{name:"Tablet",value:"Tablet"},{name:"Mobile",value:"Mobile|Mobi"},{name:"Xbox",value:"xbox"},{name:"Desktop",value:"Win|Mac|Linux|Googlebot"}],browser:[{name:"Microsoft Edge",value:"EdgiOS|Edg",regex:/edg.*?\/(\d+(\.\d+)?)/i},{name:"Opera",value:"Opera|opr|opios",regex:/(?:opr|opios|version)[\s\/](\d+(\.\d+)?)/i},{name:"UC Browser",value:"ucbrowser",regex:/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i},{name:"Samsung Browser",value:"SamsungBrowser",regex:/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i},{name:"Chrome",value:"Chrome",regex:/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i},{name:"Firefox",value:"firefox|iceweasel|fxios",regex:/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i},{name:"Android",value:"Android",regex:/version\/(\d+(\.\d+)?)/i},{name:"Blackberry",value:"BlackBerry|BB|PlayBook",regex:/version\/(\d+(\.\d+)?)/i},{name:"Internet Explorer",value:"msie|trident",regex:/(?:msie |rv:)(\d+(\.\d+)?)/i},{name:"Safari",value:"Safari",regex:/version\/(\d+(\.\d+)?)/i},{name:"BlackBerry",value:"BlackBerry",regex:/blackberry[\d]+\/(\d+(\.\d+)?)/i},{name:"Googlebot",value:"Googlebot",regex:/googlebot\/(\d+(\.\d+))/i}]},get:function(){var t=this.header.join(" ");return{os:this.matchItem(t,"os"),device:this.matchItem(t,"device"),browser:this.matchItem(t,"browser")}},matchItem:function(t,e){for(var i=this.data[e],n=0;n<i.length;n++){if(new RegExp(i[n].value,"i").test(t)){var r=t.match(i[n].regex),s=r&&r[1]?r[1]:"";return s=s.replace(/[_]/g,"."),"device"===e?i[n].device||i[n].name:{name:i[n].name,version:s}}}}},_pDocument={visibility:function(t){document.addEventListener("visibilitychange",(function(){t&&t(document.hidden)}))}},_pEl=function t(e){return this instanceof t?(e&&("string"==typeof e||e.nodeType)?this.query(e):this.init(e),this):new t(e)};_pEl.prototype={init:function(t){return this.params=t||{},this.type=this.params&&this.params.type?this.params.type:"div",this.create(),this},create:function(){var t=document.createElement(this.type);return this.params.id&&(t.id=this.params.id),this.params.class&&(t.className=pegasus.conf.prefix+"_"+this.params.class),this.params.html&&(t.innerHTML=this.params.html),this.el=t,this.styles(this.params.styles),this.attributes(),this.setChildren(),this},query:function(t){this.el="string"==typeof t?document.querySelector(t):t},rect:function(){return this.el.getBoundingClientRect()},scrollTop:function(){return this.rect().top+_pUtils.scrollTop()},wrap:function(t){var e=new _pEl(t);return this.el.parentNode.insertBefore(e.el,this.el),e.el.appendChild(this.el),e.el},unwrap:function(){for(var t=this.el.parentNode,e=t.parentNode;t.firstChild;)e.insertBefore(t.firstChild,t);e.removeChild(t)},attributes:function(){if(this.params.attr){for(var t in this.params.attr){var e=_pUtils.camelCaseToDash(t);this.el.setAttribute(e,this.params.attr[t])}return this}},styles:function(t){if(t){if("string"==typeof t)return t.indexOf(":")<0?window.getComputedStyle(this.el).getPropertyValue(t):(this.el.setAttribute("style",t),this);for(var e in t)t.hasOwnProperty(e)&&(this.el.style[e]=t[e]);return this}},setChildren:function(){var t=this;this.params.children&&this.params.children.forEach((function(e){new _pEl(e).insert("beforeEnd",t.el)}))},insert:function(t,e){return t=t||"afterBegin",e=e||document.body,(e=_pEl(e)).el.insertAdjacentElement(t,this.el),this},delete:function(){return this.el.parentNode.removeChild(this.el),this}};var _pEvent=function(t,e){var i;"function"==typeof window.CustomEvent?i=new CustomEvent(t,{detail:e}):(i=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,e),document.dispatchEvent(i)},_pLocker=function(t){return this.prefix=t||"",this};_pLocker.prototype={auth:function(t){console.log("Authentication...");var e=this;this.params=t||{},_pUtils.ajax({method:"POST",url:this.params.url,params:this.params.data,headers:{"Content-type":"application/json"},success:function(t){var i=JSON.parse(t);i.access_token&&(console.log("Welcome ! You are logged in !"),localStorage.setItem(e.prefix+":token",i.access_token))},error:function(){console.error("Authentication failed.")}})},get:function(t){t=void 0===t?"token":t;var e=localStorage.getItem(this.prefix+":"+t);return!(!e||"true"!=e)},out:function(t){t=void 0===t?"token":t,localStorage.removeItem(this.prefix+":"+t)},filteredBidders:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=localStorage.getItem(this.prefix+":bidders");if(e)return t?e.split(","):e},filteredAdslots:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=localStorage.getItem(this.prefix+":adslots");if(e)return t?e.split(","):e},getUserToken:function(){var t=localStorage.getItem(this.prefix+":userToken"),e=null;return t&&(e=jwtDecode(t.replaceAll('"',""))).exp&&(new Date).getTime()>1e3*e.exp&&(e=null),e}};var _pLogger=function(t,e){for(var i in this.prefix=t?t.toUpperCase():"",e)this[i]=e[i];return this.ERROR_SAMPLE_RATE=10,this.ERROR_SERVICE_NAME="statslogs",this.CHANNEL="JS Logger",this.ERROR_TRACK_URL="https://pixels.afcdn.com/logpix.php",this};_pLogger.prototype={log:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i="";""==e&&(this.letterIterator=this.letterIterator?String.fromCharCode(this.letterIterator.charCodeAt()+1):"A",i=this.letterIterator+") ");var n="%c"+this.prefix+(e?" - "+e.toUpperCase()+" ":"")+"%c "+i+t;"error"==e?console.error(n,this.styles(e),""):"warning"==e?console.warn(n,this.styles(e),""):"table"==e?console.table(t.var,t.params):console.log(n,this.styles(e),"")},styles:function(t){var e=function(t){switch(t){case"info":return{backgroundColor:"#4285F4"};case"warning":return{backgroundColor:"#FF9002"};case"error":return{backgroundColor:"#D63737"};case"bid":return{backgroundColor:"#03AE94"};case"test":return{backgroundColor:"#24ae46"};case"ptm":return{backgroundColor:"#FF33F9"};default:return{backgroundColor:"#8A38D3"}}}(t);return e.padding="2px 8px",e.color=e.color?e.color:"rgba(255,255,255,.6)",Object.keys(e).map((function(t){return _pUtils.camelCaseToDash(t)+":"+e[t]})).join(";")},trackError:function(t,e){(e=e||{}).pool="JS:Pegasus",e.revision=this.VERSION,e.stacktrace=(new Error).stack,e.sampleRate=100,e.coef=1,this.sendBeacon(t,e)},sendBeacon:function(t,e){navigator.sendBeacon&&navigator.sendBeacon(this.ERROR_TRACK_URL,JSON.stringify({service_name:e.service_name?e.service_name:this.ERROR_SERVICE_NAME,channel:this.CHANNEL,message:t,data:e}))}};var _pMonitor=function(t,e,i){var n=this;return this.params=e,this.advertiserMap={},this.availableBidders=[],this.breakpoint=i,(t=t||[]).forEach((function(t){t.hasOwnProperty("advertiserId")&&null!==t.advertiserId&&(n.advertiserMap[t.advertiserId]=t.code),n.availableBidders.push(t.code)})),this.adXAdvertiserIds=["null",0,4472060625,1572593421],this.events={},this.EVENTS_THRESHOLD=16,this.EVENT_TIMEOUT=4e3,this.uniqueEvents=[],this.endpoint="https://europe-west1-realtime-logging-228816.cloudfunctions.net/realtime-logs",this.RENDER_TYPE="HEADER_BIDDING_RENDER",this.INIT_TYPE="INIT_STACK",this.USER_INFOS="USER_INFOS",this.eventMap={},this.eventMap[this.RENDER_TYPE]="buildRenderEvent",this.eventMap[this.INIT_TYPE]="initEvent",this.eventMap[this.USER_INFOS]="userInfosEvent",this};_pMonitor.prototype={fireEvent:function(t,e,i){this[this.eventMap[t]](e,i)},buildRenderEvent:function(t,e){var i={};i.content_type=this.params.contenttype,i.site=this.params.site,i.segment=null,i.device=_pDetector.get().device,i.browser=_pDetector.get().browser.name,i.browser_version=_pDetector.get().browser.version,i.os=_pDetector.get().os.name,i.os_version=_pDetector.get().os.version,i.account=t.advertiserId?""+t.advertiserId:null,i.adserver="dfp-prebid-pegasus",i.bidder=this.getBidderFromAdvertiserId(t.advertiserId),i.cpm=this.getCpmFromSlotTargeting(i.bidder,t.slot),i.format=t.slot.getAdUnitPath().split("/")[t.slot.getAdUnitPath().split("/").length-1],i.size=t.size?t.size[0]+"x"+t.size[1]:null,i.target=this.rebuildTargeting(t.slot,e),i.ad_unit_path=t.slot.getAdUnitPath(),i.line_item_id=t.lineItemId?""+t.lineItemId:null,i.campaign_id=t.campaignId?""+t.campaignId:null,i.creative_id=t.creativeId?""+t.creativeId:null,i.version="0.4.1",this.storeEvent(this.RENDER_TYPE,i)},initEvent:function(t){var e=t&&t.type?t.type:"init";if(this.uniqueEvents.includes(e))return!1;var i=null;t.pageKeywords&&t.pageKeywords.stack&&(i="uno"===t.pageKeywords.stack?1:0),this.params&&this.params.stack&&(i="uno"===this.params.stack?1:0);var n={site:this.params.site,segment:i,version:"0.4.1",device:this.breakpoint.name,content_type:this.params.contenttype,url:"".concat(window.location.origin).concat(window.location.pathname),type:e};"first_render"===e&&(n.perfs=_pPerf.marks),this.storeEvent(this.INIT_TYPE,n),this.uniqueEvents.push(e)},userInfosEvent:function(t){if(this.uniqueEvents.includes(t.type))return!1;this.storeEvent(this.USER_INFOS,t.data),this.uniqueEvents.push(t.type)},getBidderFromAdvertiserId:function(t){var e=null!==t?""+t:"unfilled";return this.advertiserMap.hasOwnProperty(t)?e=this.advertiserMap[t]:this.adXAdvertiserIds.includes(t)&&(e="google"),e},getCpmFromSlotTargeting:function(t,e){var i=e.getTargeting("ufloor")[0]||0,n=e.getTargeting("MaxBid")[0]||0;return"google"===t?Math.max(i,n/100):this.availableBidders.includes(t)?n/100:null},rebuildTargeting:function(t,e){var i=t.getTargetingKeys().map((function(e){return e+"="+t.getTargeting(e).join(",")})),n=this.getGlobalTargeting();return(i=i.concat(n)).join(";")},getGlobalTargeting:function(){var t=pegasus.getGlobalTargeting();return Object.keys(t).map((function(e){return e+"="+t[e]}))},storeEvent:function(t,e){var i=this;this.events.hasOwnProperty(t)||(this.events[t]=[]),this.events[t].push(e);var n=0;if(Object.keys(this.events).forEach((function(t){n+=i.events[t].length})),n>=this.EVENTS_THRESHOLD)this.sendEvents();else{var r=this;this.timer=setTimeout((function(){r.sendEvents()}),this.EVENT_TIMEOUT)}},sendEvents:function(){var t=this,e=[];Object.keys(this.events).forEach((function(i){t.events[i].length>0&&e.push({logtype:i,logs:t.events[i]})})),this.events={},window.clearTimeout(this.timer),e.length>0&&_pUtils.ajax({url:this.endpoint,method:"POST",params:e,headers:{"Content-Type":"application/json"}})}};var SHIFT=3;function __custom_pegasus_decrypt(t){return unescape(atob(caesarShiftVanilla(unescape(t),-SHIFT)))}function caesarShiftVanilla(t,e){for(var i="",n=0;n<t.length;n++)i+=String.fromCharCode(t.charCodeAt(n)+e);return i}var _pegasusCrypto={decrypt:__custom_pegasus_decrypt},_pPerf={url:"https://pegasus.unifygroup.com/lib/",_marks:[],get marks(){var t=this;return this._marks.filter((function(e){return!(e.name.indexOf("firstRender")>-1)||("banner_atf"===e.target||t._marks.filter((function(t){return t.name.indexOf("firstRender")>-1&&t.endTime}))[0]===e)})).concat(this.resources)},init:function(t){for(var e in t)this[e]=t[e];return this},getName:function(t){return"".concat(this.prefix,"_").concat(t)},get resources(){var t=this;return performance.getEntriesByType("resource").filter((function(e){return e.name.indexOf(t.url)>-1})).map((function(e){var i="file_lib";e.name.indexOf("pegasus.min.js")>-1&&(i="file_loader"),e.name.indexOf("prebid")>-1&&(i="file_prebid");var n={name:t.getName(i)};return n=t.setData(n,e)}))},start:function(t,e){var i={name:t=this.getName(t)};e&&(i.target=e),this._marks.push(i),performance.mark("start_"+t)},end:function(t,e){var i=this.get(t,e);if(!(!i||i&&e===i.target&&i.endTime)){performance.mark("end_"+i.name),performance.measure(i.name,"start_"+i.name,"end_"+i.name);var n=performance.getEntriesByName(i.name)[0];this.setData(i,n)}},setData:function(t,e){return t.startTime=Math.round(e.startTime),t.duration=Math.round(e.duration),t.endTime=t.startTime+t.duration,t},get:function(t,e){return t=this.getName(t),this._marks.find((function(i){return i.name===t&&(!e||i.target===e)}))},report:function(){console.table(this.marks,["name","target","startTime","endTime","duration"])}},_pTM=function(t){for(var e in t)this[e]=t[e];return this};_pTM.prototype.run=function(t){var e=this;Object.keys(this.tags).forEach((function(i){if(!document.querySelector("".concat(e.prefix,"_").concat(i))){var n=document.createElement("script");n.id="".concat(e.prefix,"_").concat(i),n.innerHTML="(function() { ".concat(e.tags[i].script," })()");var r=void 0!==e.tags[i].time_to_listen?e.tags[i].time_to_listen:0;setTimeout((function(){document.head.insertAdjacentElement("beforeend",n),t(i)}),r)}}))};var _pTimer=function(t){for(var e in t)this[e]=t[e];return this};_pTimer.prototype={delay:1e3,beforeTimeOut:0,run:function(){var t=this;if(this.value=this.value?this.value+this.delay:this.delay,this.value===this.delay&&this.started(),this.value===this.duration-this.beforeTimeOut&&this.beforeEnd(),this.value>=this.duration)return this.stop(),void this.end();this.fn=setTimeout((function(){t.run()}),this.delay)},stop:function(){this.fn=clearTimeout(this.fn),this.triggerCallback("stop")},started:function(){this.triggerCallback("started")},beforeEnd:function(){this.triggerCallback("beforeEnd")},end:function(){this.triggerCallback("end")},triggerCallback:function(t){t=_pUtils.capitalize(t),this["on".concat(t)]&&this["on".concat(t)]()}};var _pUser=function(t){for(var e in t)this[e]=t[e];return this.scrollSpeed={value:null},this.bandwidthSpeed={start:(new Date).getTime(),value:null},this.screenWidth=window.innerWidth,this.screenHeight=window.innerHeight,this.pageHeight=_pUtils.documentHeight(),this};function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}_pUser.prototype={get scrollMaxDistance(){return Math.round(1.5*this.screenHeight)},getScrollSpeed:function(t){var e=this;document.addEventListener("scroll",(function i(n){e.scrollSpeed.start=e.scrollSpeed.start||n.timeStamp,e.scrollSpeed.firstOffset=e.scrollSpeed.firstOffset||_pUtils.scrollTop(),e.scrollSpeed.lastOffset=_pUtils.scrollTop(),e.scrollSpeed.end=n.timeStamp;var r=Math.abs(e.scrollSpeed.lastOffset-e.scrollSpeed.firstOffset);if(r>=e.scrollMaxDistance){var s=r/(e.scrollSpeed.end-e.scrollSpeed.start);return s=Math.round(100*s)/100,e.scrollSpeed.distance=r,e.scrollSpeed.value=s,e.scrollSpeed.ended=!0,t&&t(e),void document.removeEventListener("scroll",i)}}))},activeEventsList:["mousemove","scroll","touchstart"],isActive:function(t){var e=this;if(!this.trackingActivity){this.trackingActivity=!0,this.active=!1;var i=function(i){e.active=!0,e.activeEventType=i.type,e.unlisten(),e.trackingActivity=!1,t&&t(e)};return this.activeEvents=this.activeEventsList.reduce((function(t,e){return t[e]=i,t}),{}),this.listen(),this}},listen:function(){var t=this;this.activeEvents&&Object.keys(this.activeEvents).forEach((function(e){return document.addEventListener(e,t.activeEvents[e])}))},unlisten:function(){var t=this;this.activeEvents&&Object.keys(this.activeEvents).forEach((function(e){return document.removeEventListener(e,t.activeEvents[e])}))},getBandwidthSpeed:function(t){this.bandwidthSpeed.end=(new Date).getTime();var e=this.bandwidthSpeed.end-this.bandwidthSpeed.start;e=this.bandwidthSpeed.contentLength/e,this.bandwidthSpeed.value=Math.round(100*e)/100,this.bandwidthSpeed.ended=!0,t&&t(this)},setDownloadLength:function(t){t&&(this.bandwidthSpeed.contentLength=parseInt(t))},calcAverage:function(t){return t.reduce((function(t,e){return t+e}))/t.length},run:function(t){var e=this,i=!1,n=function(){e.scrollSpeed.ended&&e.bandwidthSpeed.ended&&t&&!i&&(i=!0,t(e))};this.getScrollSpeed((function(t){return n()})),this.getBandwidthSpeed((function(t){return n()}))},reset:function(){return[this.scrollSpeed,this.bandwidthSpeed].forEach((function(t){t.list=[],t.count=0,t.value=null})),this},get report(){var t=this;return["breakpoint","screenWidth","screenHeight","pageHeight","scrollSpeed","bandwidthSpeed"].reduce((function(e,i){return e[_pUtils.camelCaseToSnake(i)]=t[i]&&t[i].value||t[i],e}),{})}};var _pUtils={addScript:function(t){if((t||t.id||t.url)&&!document.querySelector("#"+t.id)){var e=document.createElement("script");return e.src=t.url,e.id=t.id,document.head.appendChild(e),e.onload=function(){t.callback&&t.callback()},t.onerror&&(e.onerror=function(e){t.onerror(e)}),t.async&&(e.async=!0),this}},camelCaseToDash:function(t){return _pUtils.camelCaseTo(t,"-")},camelCaseToSnake:function(t){return _pUtils.camelCaseTo(t,"_")},camelCaseTo:function(t,e){return t?t.replace(/([a-zA-Z])(?=[A-Z])/g,"$1".concat(e)).toLowerCase():null},capitalize:function(t){return t.replace(/^\w/,(function(t){return t.toUpperCase()}))},extend:function(t,e,i){for(var n in t=t||{},e)i&&!e[n]||("object"!==_typeof(e[n])||Array.isArray(e[n])?t[n]=e[n]:t[n]=_pUtils.extend(t[n],e[n]));return t},filter:function(t,e){var i={};for(var n in t)t.hasOwnProperty(n)&&e(t[n])&&(i[n]=t[n]);return i},ajax:function(t){var e=_pUtils.extend({url:"",method:"GET",params:"",headers:{},success:function(t){},error:function(t){},finally:function(t){}},t);if(e.url){"DELETE"!==e.method&&(e.method=e.params?"POST":e.method);var i=new XMLHttpRequest;for(var n in i.open(e.method,e.url,!0),e.headers)i.setRequestHeader(n,e.headers[n]);i.send(JSON.stringify(e.params)),i.onreadystatechange=function(){var t=i.getAllResponseHeaders();t=t?i.getAllResponseHeaders().trim().split(/[\r\n]+/).reduce((function(t,e){var i=e.split(": ");return t[i[0]]=i[1],t}),{}):{},4==i.readyState&&(200==i.status?e.success(i.response,t):e.error(i),e.finally(i.response,t))}}},scrollTop:function(){var t=_pEl(document.documentElement).styles("height"),e=_pEl(document.body).styles("height");return parseInt(t)&&parseInt(e)===window.innerHeight?document.body.scrollTop||document.documentElement.scrollTop:window.pageYOffset},documentHeight:function(){var t=[document.body,document.documentElement].filter((function(t){return t})).map((function(t){return["scrollHeight","offsetHeight","clientHeight"].map((function(e){return t[e]}))}));return t=[].concat.apply([],t),Math.max.apply(Math,t)},flattenSizes:function(t){if(!t.display)return t;t=t.display,t=Object.keys(t).map((function(e){return t[e]})),t=[].concat.apply([],t);var e={};return t.forEach((function(t){var i=Array.isArray(t)?t.join("|"):t;e[i]=t})),Object.keys(e).map((function(t){return e[t]}))},getMinFloor:function(t){return Math.min.apply(Math,t.map((function(t){return t.floor})))},minify:function(t){return t.replace(/(\r\n|\n|\r|\t|(  ))/gm,"")},getUrlParams:function(){var t={},e=window.location.search;e&&(e=e.substring(1)).split("&").forEach((function(e){var i=e.split("=");t[i[0]]=i[1]?i[1]:null}));return t},getCookies:function(){var t=decodeURIComponent(document.cookie).split(";").map((function(t){return t.trim()})),e={};return t.forEach((function(t){return e[t.split("=")[0]]=t.split("=")[1]})),e},getCookie:function(t){return _pUtils.getCookies()[t]?_pUtils.getCookies()[t]:null},parser:function(t,e,i){if(t){var n=t;if(!e)return t;var r=(e=e.split("."))[e.length-1];return e.forEach((function(t){if(Array.isArray(n)){if((n=n.filter((function(e){return e[t]}))).length>1)return;n=n.find((function(e){return e[t]}))}n=n&&n.hasOwnProperty(t)?t===r?n:n[t]:n})),i&&n&&(n[r]=i),n?n[r]:n}},flattenRTBSizes:function(t){return Object.keys(t).reduce((function(e,i){return Object.keys(t[i]).forEach((function(n){return e[i+"|"+n]=t[i][n]})),e}),{})}},_pViewport={split:3,_POSITIONS:["atf","mtf","btf"],getPosition:function(t){for(var e,i=t.getBoundingClientRect(),n=0;n<this._POSITIONS.length;n++)i.top>Math.round(document.body.offsetHeight/this.split)*n&&(e=this._POSITIONS[n]);return e},viewportKey:"nbViewports",isInView:function(t,e){var i=t.getBoundingClientRect(),n={percentHeight:0};n[this.viewportKey]=0;var r=_pUtils.extend(n,e),s=i.height*r.percentHeight/100;return t.style.display="none"===t.style.display?null:t.style.display,i.top>=(r.percentHeight<100?-(i.height-s):0)&&i.right>0&&i.left<window.innerWidth&&i.top<=window.innerHeight-(r.percentHeight>0?s:0)+window.innerHeight*r[this.viewportKey]}};function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var _pPlugin=function(){return this};_pPlugin.prototype={get BASECLASS(){return(this.prefix?this.prefix+"_":"")+this.plugin},dataSelector:function(t,e){var i=[this.plugin,_pUtils.camelCaseToDash(t)].filter((function(t){return t})).join("-");return"[data-ad-".concat(i).concat(e?"":'="'.concat(this.adslot,'"'),"]")},init:function(t){for(var e in t)this[e]=t[e];var i=[this.target,this.dataSelector(),this.adslot].filter((function(t){return t})).join();if(this.el=document.querySelector(i),this.el&&(this.child=this.el.firstElementChild,this.subchild=this.child.firstElementChild,this.adslotEl=this.adslot?document.querySelector(this.adslot):this.el,this.subInit&&this.subInit(),!this.stopPlugin))return this.el.classList.add(this.BASECLASS),this.child.classList.add(this.BASECLASS+"_child"),this.subchild.classList.add(this.BASECLASS+"_subchild"),this.status="init",this.start(),this},destroy:function(){this.el.classList.remove(this.BASECLASS),this.child.classList.remove(this.BASECLASS+"_child"),this.subchild.classList.remove(this.BASECLASS+"_subchild"),this.scrollHandler&&document.removeEventListener("scroll",this.scrollHandler,!0),this.subDestroy(),this.status="destroyed"},get docHeight(){var t=[document.body,document.documentElement].filter((function(t){return t})).map((function(t){return["scrollHeight","offsetHeight","clientHeight"].map((function(e){return t[e]}))}));return t=[].concat.apply([],t),Math.max.apply(Math,t)},get scrollTop(){return _pUtils.scrollTop()},_status:"",set status(t){this._status="object"===_typeof(t)?t.name:t,this.emit(this.status,this.el)},get status(){return this._status},events:{},emit:function(t,e){var i=this;this.events[t]&&this.events[t].forEach((function(t){return t(i)}))},on:function(t,e){var i=this;t.split(/[\s,]+/).forEach((function(t){i.events[t]=i.events[t]||[],i.events[t].push(e)}))},onScroll:function(){this.scrollHandler=this.scrollHandler||this.globalHandler.bind(this),this.scrollTop>0&&this.scrollHandler(),document.addEventListener("scroll",this.scrollHandler,!0)},globalHandler:function(){this.timeout&&window.cancelAnimationFrame(this.timeout),this.timeout=window.requestAnimationFrame(this.handler.bind(this))},mutation:function(t,e){var i=new MutationObserver((function(t){t.some((function(t){return"attributes"===t.type&&("style"===t.attributeName||"class"===t.attributeName)}))&&e(t)}));return(t=t instanceof NodeList?t:[t]).forEach((function(t){return i.observe(t,{attributes:!0})})),i}};var _pCenter=function(){return this.plugin="center",this};_pCenter.prototype=new _pPlugin,_pCenter.prototype.start=function(){this.el.offsetHeight>this.child.offsetHeight&&(this.el.style.display="flex",this.el.style.alignItems="center")},_pCenter.prototype.subDestroy=function(){this.el.style.display=this.el.style.alignItems=null};var _pNative=function(){return this.plugin="native",this};_pNative.prototype=new _pPlugin,_pNative.prototype.start=function(){this.el.style.maxHeight=this.child.style.maxHeight="".concat(this.height,"px")},_pNative.prototype.destroy=function(){this.el.style.maxHeight=this.child.style.maxHeight=null};var _pParallax=function(){return this.plugin="parallax",this.minHeight=250,this.ratio=2.5,this.top=0,this};function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}_pParallax.prototype=new _pPlugin,_pParallax.prototype.subInit=function(){_pEl(this.child).rect().height<this.minHeight&&(this.stopPlugin=!0);var t=window.getComputedStyle(this.child,":before").backgroundColor,e=".".concat(this.prefix,"_").concat(this.plugin," .").concat(this.prefix,"_has_label:before {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tz-index: 1;\n\t\t").concat("rgba(0, 0, 0, 0)"===t||"transparent"===t?"background-color: white;":"","\n\t}");this.style=document.querySelector("#".concat(this.adslotEl.id,"_style_").concat(this.plugin))||new _pEl({type:"style",id:"".concat(this.adslotEl.id,"_style_").concat(this.plugin),html:_pUtils.minify(e)}).insert("beforeEnd","head").el},_pParallax.prototype.start=function(){var t=_pEl(this.child).rect().height,e=Math.round(t-t/this.ratio);_pEl(this.el).styles({position:"relative",height:e+"px",overflow:"hidden"}),_pEl(this.child).styles({position:"absolute",clip:"rect(0px, auto, "+e+"px, 0px)",inset:"0px",margin:"0",padding:"0"}),_pEl(this.subchild).styles({position:"fixed",margin:"".concat(this.top,"px 0 0"),inset:"0px",display:"flex",justifyContent:"center",alignItems:"center"}),this.stickiesObserver()},_pParallax.prototype.stickiesObserver=function(){var t=this;this.stickies=document.querySelectorAll(".".concat(this.prefix,"_sticky_child.banner")),this.observer=this.mutation(this.stickies,(function(e){var i=Math.max.apply(Math,e.map((function(t){return t.target.offsetHeight})));i>t.top&&(t.top=i,t.subchild.style.marginTop=t.top+"px")}))},_pParallax.prototype.subDestroy=function(){this.style&&document.head.removeChild(this.style),this.observer.disconnect(),_pEl(this.el).styles({position:null,height:null,overflow:null}),_pEl(this.child).styles({position:null,clip:null,inset:null,margin:null,padding:null}),_pEl(this.subchild).styles({position:null,margin:null,inset:null,display:null,justifyContent:null,alignItems:null})};var _pSkin=function(){return this.plugin="skin",this};function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}_pSkin.prototype=new _pPlugin,_pSkin.prototype.setProperties=function(){var t={bannerHeight:220,insertAfter:"body",marginTop:0,bgColor:"transparent",type:"display",position:"fixed",above:[]};for(var e in t)this[e]=this[e]||t[e];this.main=document.querySelector("".concat(this.main?this.main+",":"").concat(this.dataSelector("main",!0))),this.insertAfter=document.querySelector(this.dataSelector("insert-after",!0))?this.dataSelector("insert-after",!0):this.insertAfter,this.mobile&&(this.insertAfter=this.subchild),this.bannerHeight=parseInt(this.bannerHeight),this.marginTop=parseInt(this.marginTop),this.above.push(this.dataSelector("above",!0)),this.above=this.above.map((function(t){return document.querySelector(t)})),this.above.push(this.main)},_pSkin.prototype.build={display:function(){if(this.subchild.style.position="absolute",this.subchild.style.height="1px",this.subchild.style.pointerEvents="none",this.subchild.style.overflowX="hidden",this.subchild.style.maxWidth="100%",this.img){var t="body"!==this.insertAfter?"afterEnd":"afterBegin";if(this.bannerHeight=this.cls&&this.cls.height&&this.cls.height>this.bannerHeight&&"body"!==this.insertAfter?this.cls.height:this.bannerHeight,this.mask=new _pEl({class:this.plugin+"Mask",id:this.el.id+"_skin_mask",styles:{position:"relative",width:"100%",height:this.mobile?"auto":this.bannerHeight+"px",textAlign:"center"},children:[{type:this.url?"a":"span",attr:this.url?{href:this.url,target:"_blank"}:{},styles:this.mobile?{display:"block"}:{display:"block",position:"fixed",bottom:0,left:0,right:0},children:this.mobile?[{type:"img",attr:{src:this.img},styles:{maxWidth:"100%",height:"auto",display:"block",margin:"0 auto",maxHeight:this.mobile&&"Mobile Landscape"===this.breakpoint?Math.round(window.innerHeight/3)+"px":"none"}}]:[]}]}).insert(t,this.insertAfter),this.top=this.mask.rect().top+_pUtils.scrollTop()+this.marginTop,this.mobile||(this.mask.el.firstElementChild.style.top=this.top+"px"),this.mobile||(document.body.style.backgroundImage="url(".concat(this.img,")"),document.body.style.backgroundRepeat="no-repeat",document.body.style.backgroundAttachment="scroll",document.body.style.backgroundPosition="center ".concat(this.top,"px"),document.body.style.backgroundSize="auto"),this.mobile&&this.plugins&&this.plugins.sticky){var e=_pUtils.extend(this.plugins.sticky,{prefix:this.prefix,target:"#"+this.el.id,maxHeight:300},!0);this.sticky=(new _pSticky).init(e)}}else this.mask=null},rtb:function(){if(this.external)return this.child.firstElementChild.style.height="1px",void(this.child.firstElementChild.style.position="absolute");_pEl(this.el).styles({position:"relative",width:"100%",height:this.bannerHeight+"px"}),_pEl(this.child).styles({position:"absolute",left:"50%",transform:"translateX(-50%)",minWidth:"1800px"})}},_pSkin.prototype.subInit=function(){this.setProperties()},_pSkin.prototype.customEvent=function(){var t={active:"active"===this.status,element:this.mask?this.mask.el:this.el,sticky:this.sticky instanceof _pSticky,breakpoint:this.breakpoint,type:this.type,insertAfter:"display"===this.type?this.insertAfter:null};t.insertAfter&&"object"===_typeof(t.insertAfter)&&(t.insertAfter="#".concat(t.insertAfter.id)||"."+t.insertAfter.className.split(" ").join(".")),_pEvent("pegasus:skin",t)},_pSkin.prototype.start=function(){this.el.style.height=null,this.build[this.type].call(this),document.body.classList.add(this.BASECLASS+"_active"),this.status="active",this.customEvent(),this.child.style.width=null,this.above.forEach((function(t){return t&&(t.style.position="relative")})),this.setScroll()},_pSkin.prototype.setScroll=function(){"fixed"!==this.position||this.mobile||this.external||(this.scrollHandler=this.scrollFn[this.type].bind(this),this.onScroll())},_pSkin.prototype.scrollFn={display:function(){this.sticky&&this.mask&&(_pUtils.scrollTop()>=this.top?(document.body.style.backgroundAttachment="fixed",document.body.style.backgroundPosition="center top"):(document.body.style.backgroundAttachment="scroll",document.body.style.backgroundPosition="center "+this.top+"px"))},rtb:function(){_pUtils.scrollTop()>=_pEl(this.el).scrollTop()?_pEl(this.child).styles({position:"fixed",top:"0"}):_pEl(this.child).styles({position:"absolute",top:null})}},_pSkin.prototype.subDestroy=function(){this.mobile&&this.sticky&&this.sticky.destroy(),document.body.classList.remove(this.BASECLASS+"_active"),_pEl(document.body).styles({backgroundImage:null,backgroundAttachment:null,backgroundPosition:null}),document.body.style.backgroundImage=document.body.style.backgroundAttachment=document.body.style.backgroundPosition=document.body.style.backgroundRepeat=document.body.style.backgroundSize=null,this.mask&&this.mask.el&&this.mask.el.parentNode&&this.mask.el.parentNode.removeChild(this.mask.el),this.subchild.style.position=this.subchild.style.height=this.subchild.style.pointerEvents=this.subchild.style.overflowX=this.subchild.style.maxWidth=null,this.el.style.position=this.el.style.width=this.el.style.height=null,this.child.style.position=this.child.style.left=this.child.style.transform=this.child.style.top=null,this.above.forEach((function(t){return t&&(t.style.position=null)})),this.customEvent()};var _pSticky=function(){return this.plugin="sticky",this.states=[],this};_pSticky.prototype=new _pPlugin,_pSticky.prototype.TYPES={default:{states:["unStick","stick"],stickPosition:"top",bgColor:"#fff",follow:!1,minHeight:50,zIndex:1001,on:{}},banner:{states:["stickUp"],screenCentered:!0,scrollLimit:100,scrollUnit:"%",maxHeight:130},bottom:{screenCentered:!0,stickPosition:"bottom",scrollLimit:100,scrollUnit:"%",maxHeight:130},sidebar:{states:["stuckBottom"],cssTransition:"top",spacing:20,bottomMargin:0,maxHeight:2e3,zIndex:1e3},gutter:{states:["stuckBottom"],cssTransition:"top",spacing:20,bottomMargin:0,maxHeight:620,zIndex:null}},_pSticky.prototype.setProperties=function(){var t=Object.create(this.TYPES.default);for(var e in(t=_pUtils.extend(t,this.type?this.TYPES[this.type]:{})).states=t.states.concat(this.TYPES.default.states),this.states=t.states,t)this[e]=this[e]||t[e]},_pSticky.prototype.ELEMENTS=["follow","unstickTo"],_pSticky.prototype.UNIQUE_ELEMENTS=["reference"],_pSticky.prototype.STATES={stick:{name:"stick",styles:"position: fixed !important;",fn:function(){var t=_pEl(this.el).scrollTop();if(!(this.scrollTop<t-this.css().top)){if(this.status=this.STATES.stick.name,this.child.style.zIndex=this.css().zIndex,this.child.style.transform=null,"top"===this.stickPosition&&(this.child.style.top=this.css().top+"px"),"bottom"===this.stickPosition){var e=this.scrollTop-this.child.offsetHeight;this.child.style.bottom=e>0?0:e+"px"}return this.timingLimit(),!0}},after:function(){this.screenCentered&&["transparent","rgba(0, 0, 0, 0)"].indexOf(_pEl(this.child).styles("background-color"))>-1&&(this.child.style.backgroundColor=this.bgColor)}},unStick:{name:"unStick",fn:function(t){var e=_pEl(this.el).scrollTop();if(this.scrollTop<=e-this.css().top||t)return this.status=this.STATES.unStick.name,this.child.style.top=this.child.style.bottom=this.child.style.backgroundColor=this.child.style.transform=null,!0}},stickUp:{name:"stickUp",styles:"position: fixed !important; transform: translateY(-100%);",fn:function(t,e){var i=this;t=t||parseInt(this.scrollLimit),"%"===(e=e||this.scrollUnit)&&(t=this.docHeight*this.scrollLimit/100);var n=this.unstickTo&&Array.prototype.slice.call(this.unstickTo).some((function(t){if(_pEl(t).rect().top<i.css().top+i.child.offsetHeight&&_pEl(t).rect().bottom>i.css().top)return t}));if(!(this.scrollTop<t)||n)return this.status=this.STATES.stickUp.name,this.child.style.backgroundColor=null,!0}},stuckBottom:{name:"stuckBottom",styles:"position: absolute;",fn:function(){var t=_pEl(this.reference).rect().bottom+this.scrollTop-_pEl(this.child).rect().height-this.css().top-this.bottomMargin;if(this.scrollTop>t){this.status=this.STATES.stuckBottom.name,this.child.style.top=null;var e=_pEl(this.reference).rect().height-_pEl(this.child).rect().height-this.spacing-this.bottomMargin;return this.child.style.transform="translateY("+e+"px)",!0}}}},_pSticky.prototype.subInit=function(){var t=this;this.setProperties(),this.queryElements(),this.targetSelector=[this.target,this.dataSelector(),this.adslot].filter((function(t){return t})).find((function(e){return t.el.matches(e)})),this.addStylesTag(),this.child.classList.add(this.type)},_pSticky.prototype.queryElements=function(){var t=this;[].concat(_toConsumableArray(this.ELEMENTS),_toConsumableArray(this.UNIQUE_ELEMENTS)).forEach((function(e){var i=[],n="follow"===e,r=t.dataSelector(e,n);i.push(r),t[e]&&t[e].length>0&&(i=[].concat(_toConsumableArray(i),_toConsumableArray(t[e].split(",")))),e.indexOf(t.UNIQUE_ELEMENTS)>-1?(t[e]=document.querySelector(r)||document.querySelector(i.join(",")),t[e+"Selector"]=t[e]?i.find((function(i){return t[e].matches(i)})):i.join(",")):(t[e]=document.querySelectorAll(i),t[e+"Selector"]=i)})),this.reference="gutter"===this.type?this.el:this.reference},_pSticky.prototype.addStylesTag=function(){var t=this,e="".concat(this.adslotEl.id,"_style_").concat(this.plugin,"_").concat(this.type),i=document.querySelector("#"+e);i&&i.parentNode.removeChild(i);var n=[this.targetSelector,this.BASECLASS].join(".")+" ."+this.BASECLASS+"_child",r=n+"{ transition: "+(this.cssTransition?this.cssTransition:"all")+" 250ms ease, background-color 0s; }"+n+" > * { margin-left: auto; margin-right: auto; }";this.states.forEach((function(e){if(t.STATES[e].styles){var i=[n,t.STATES[e].name].join(".");r+=i+"{"+t.STATES[e].styles+"}",t.screenCentered&&(r+=i+"{left: 0; right: 0; }")}})),this.style=document.querySelector(e)||new _pEl({type:"style",id:e,html:_pUtils.minify(r)}).insert("beforeEnd","head").el},_pSticky.prototype.start=function(){this.onScroll()},_pSticky.prototype.handler=function(){var t=this,e=this.cls&&this.cls.height&&this.cls.height>this.maxHeight?this.cls.maxHeight:this.maxHeight;if(!(_pEl(this.adslotEl).rect().height>e||_pEl(this.adslotEl).rect().height<this.minHeight||this.stopScroll)){setTimeout((function(){t.el.style.minHeight||(t.el.style.height=("gutter"===t.type?_pEl(t.el).rect().height:_pEl(t.child).rect().height)+"px")}),200);var i=window.getComputedStyle(this.el).getPropertyValue("display");["flex","block"].indexOf(i)<0&&(this.el.style.display="block"),this.child.style.width=_pEl(this.el).rect().width+"px",this.states.filter((function(t){return"stick"!==t})).some((function(e){return t.STATES[e].fn.call(t)}))||this.STATES.stick.fn.call(this),this.toggleClass(),this.STATES[this.status].after&&this.STATES[this.status].after.call(this)}},_pSticky.prototype.toggleClass=function(){for(var t in this.STATES)this.STATES[t].name!==this.status&&this.child.classList.remove(this.STATES[t].name);this.child.classList.add(this.status)},_pSticky.prototype.timingLimit=function(){var t=this;"ms"===this.scrollUnit&&(this.scrollTimeout||(this.scrollTimeout=setTimeout((function(){t.STATES.unStick.fn.call(t,!0),t.toggleClass(),t.stopScroll=!0}),this.scrollLimit)))},_pSticky.prototype.css=function(){var t=this,e=this.others();if(this.follow){var i=this.follow instanceof NodeList?Array.prototype.slice.call(this.follow):[this.follow];e=e.concat(i)}e=e.filter((function(e){return t.isOtherStick(e)}));var n=this.spacing||0;n+=e.length>0?Math.max.apply(Math,e.map((function(t){return _pEl(t).rect().bottom}))):0;var r=e.map((function(t){return parseInt(_pEl(t).styles("z-index"))-1}));return r.push(this.zIndex),{top:n,zIndex:null===this.TYPES[this.type].zIndex?this.TYPES[this.type].zIndex:Math.min.apply(Math,r)}},_pSticky.prototype.isOtherStick=function(t){var e=_pEl(t).rect(),i=_pEl(this.child).rect(),n=_pEl(t).styles("position");return e.top>=0&&e.top<=i.top&&("fixed"===n||"sticky"===n)},_pSticky.prototype.others=function(){var t=this,e=document.querySelectorAll("."+this.BASECLASS+":not("+this.targetSelector+") ."+this.BASECLASS+"_child.banner."+this.STATES.stick.name);return Array.prototype.filter.call(e,(function(e){return t.isOtherStick(e)}))},_pSticky.prototype.subDestroy=function(){this.style&&document.head.contains(this.style)&&document.head.removeChild(this.style),this.child.classList.remove.apply(this.child.classList,this.states.concat(this.BASECLASS,Object.keys(this.TYPES))),this.child.style.top=this.child.style.zIndex=this.child.style.transform=this.child.style.backgroundColor=null,this.el.style.height=null,this.el.style.display=null};var _pDFP=function(t){for(var e in this.name="dfp",window.googletag=window.googletag||{cmd:[]},t)this[e]=t[e];return this.FLOOR_KEY="ufloor",this.hasBeenGlobalTargeted=!1,this};function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,r=!1,s=void 0;try{for(var a,o=t[Symbol.iterator]();!(n=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){r=!0,s=t}finally{try{n||null==o.return||o.return()}finally{if(r)throw s}}return i}}function _arrayWithHoles(t){if(Array.isArray(t))return t}_pDFP.prototype={EVENTS:{onRender:"slotRenderEnded",onViewed:"impressionViewable",onBeforeRender:"slotResponseReceived",onRequest:"slotRequested"},init:function(t){_pUtils.addScript({id:this.prefix+"-"+this.name,url:"https://securepubads.g.doubleclick.net/tag/js/gpt.js",callback:function(){t&&t()}})},onSlotsRegistered:function(t){var e=this;googletag.cmd.push((function(){googletag.pubads().enableSingleRequest(),googletag.pubads().disableInitialLoad(),googletag.pubads().collapseEmptyDivs(),googletag.enableServices();var i=function(t){googletag.pubads().addEventListener(e.EVENTS[t],(function(i){e.on(t,e.name,i)}))};for(var n in e.EVENTS)i(n);t&&t(e.name)}))},define:function(t,e){t.path&&t.sizes&&t.id&&googletag.cmd.push((function(){var i=googletag.defineSlot(t.path,t.sizes,t.id);i&&(i.addService(googletag.pubads()),e&&e(i))}))},render:function(t){var e=this;googletag.cmd.push((function(){e.hasBeenGlobalTargeted||e.log("global targeting not set before first render","warn"),googletag.pubads().refresh(t)}))},setGlobalTargeting:function(t){var e=this;googletag.cmd.push((function(){Object.keys(t).forEach((function(e){googletag.pubads().setTargeting(e,t[e])})),e.hasBeenGlobalTargeted||(e.status="global targeted"),e.hasBeenGlobalTargeted=!0}))},getGlobalTargeting:function(){return googletag.pubads().getTargetingKeys().reduce((function(t,e){return t[e]=googletag.pubads().getTargeting(e),t}),{})},clearTargeting:function(t){var e=this;googletag.cmd.push((function(){googletag.pubads().clearTargeting(t),e.status="targeting cleared"+(t?" for key ".concat(t):"")}))},setSlotTargeting:function(t,e,i){googletag.cmd.push((function(){Object.keys(e).forEach((function(i){t.setTargeting(i,e[i])})),i(t)}))},clearSlotTargeting:function(t,e){googletag.cmd.push((function(){t.clearTargeting(e)}))},getSlotTargeting:function(t){var e={};return t.getTargetingKeys().forEach((function(i){return e[i]=t.getTargeting(i)})),e},getSlotFloorTargeting:function(t){var e={};return t&&(e[this.FLOOR_KEY]=t.toFixed(2)),e},getSlotId:function(t){return t.getSlotElementId()},destroy:function(t){googletag.destroySlots(t)}};var _pAmazon=function(t){for(var e in t)this[e]=t[e];return this.allbids=[],this.activebids={},this.renderedbids=[],this.discardedbids=[],this.adunits=[],this.targeting={},this.adunitMapping={},this.BIDTARGETINGREGEX=/amznp/,this};_pAmazon.prototype={adserverVastURL:"https://securepubads.g.doubleclick.net/gampad/ads?env=vp",init:function(t){var e=this;!function(t,e,i,n,r,s,a){function o(i,n){e[t]._Q.push([i,n])}e[t]||(e[t]={init:function(){o("i",arguments)},fetchBids:function(){o("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},(s=i.createElement(n)).async=!0,s.src="//c.amazon-adsystem.com/aax2/apstag.js",(a=i.getElementsByTagName(n)[0]).parentNode.insertBefore(s,a))}("apstag",window,document,"script"),apstag.init({pubID:this.bidders[0].id,adServer:"googletag",deals:!0,params:{}},(function(){e.adslots.forEach((function(t){return e.buildAdUnits(t)})),t&&t()}))},callBids:function(t,e){var i=this,n=Object.keys(this.adunitMapping).filter((function(e){return t.includes(e)})).reduce((function(t,e){var n=i.adunits.find((function(t){return t.slotID===i.adunitMapping[e]}));return n&&t.push(n),t}),[]);if(0===n.length)return this.log("No adslot detected for Amazon from id(s) [ ".concat(t.join(", ")," ]"),"warning"),void e([]);apstag.fetchBids({slots:n,timeout:this.timeout},(function(t){i.allbids=i.allbids.concat(t),t.forEach((function(t){"2"==t.amznbid&&""==t.amzniid?(i.log("--- Amazon bid rejected â on ".concat(t.slotID," : empty infos ---"),"bid"),i.discardedbids.push(t)):(i.activebids[t.slotID]||(i.activebids[t.slotID]=[]),i.activebids[t.slotID].push(t))})),apstag.setDisplayBids(),e(t)}))},reset:function(){this.targeting={}},buildAdUnits:function(t){var e=this,i=_pUtils.flattenRTBSizes(t.data.RTBSizes);Object.keys(i).forEach((function(i){var n=_slicedToArray(i.split("|"),2),r=n[0],s=n[1],a={};a.slotID=t.placeholder.id,a.slotName="".concat(e.adserverconf.account,"/").concat(t.data.adUnitPath),"instream"===s&&(a.slotID="videoSlot",a.mediaType="video",delete a.slotName),e.adunitMapping[t.placeholder.id]=a.slotID,e.bidders.forEach((function(i){var n=[];i.slots[r]&&i.slots[r][s]&&(n=n.concat(i.slots[r][s].filter((function(e){return e.code===(t.alias||t.name)})).map((function(t){return t.sizes})))),n.length>0&&(a.sizes=n[0],e.adunits.push(a))}))}))},buildTargeting:function(t){var e=this;this.adslots.filter((function(e){return!t||t.indexOf(e.name)>-1})).forEach((function(t){e.buildSlotTargeting(t)}))},buildSlotTargeting:function(t){this.cleanupActiveBids(t.placeholder.id);var e=this.activebids[t.placeholder.id];if(e&&e.length>0){var i=e[0];e[0].status="targeted",this.targeting[t.name]={amznbid:i.targeting&&i.targeting.amznbid||i.amznbid,amzniid:i.targeting&&i.targeting.amzniid||i.amzniid,amznp:i.targeting&&i.targeting.amznp||i.amznp,amznsz:i.targeting&&i.targeting.amznsz||i.amznsz,amazon:"y"}}},cleanupActiveBids:function(t){if(this.activebids[t])for(var e=this.activebids[t].length-1;e>=0;e--){var i=this.activebids[t][e];"targeted"===i.status&&(this.discardedbids.push(i),this.activebids[t].splice(e,1))}},getTargeting:function(){return this.targeting},repoolBid:function(t){},buildVideoUrls:function(){var t=this;return Object.keys(this.activebids).filter((function(e){return t.activebids[e].length>0&&t.activebids[e][0].mediaType&&"video"===t.activebids[e][0].mediaType})).reduce((function(e,i){var n=t.adslots.find((function(e){return e.isVideo&&t.adunitMapping[e.placeholder.id]===i}));return e[n.placeholder.id]={vastURL:t.buildVastFromBid(t.activebids[i][0],n),playerId:n.playerId,bids:t.activebids[i][0]},e}),{})},buildVastFromBid:function(t,e){var i={output:"vast",sz:t.size,url:window.location.href,iu:"".concat(this.adserverconf.account,"/").concat(e.data.adUnitPath),cust_params:t.targeting};return i=Object.entries(i).map((function(t){return t.join("=")})).join("&"),this.adserverVastURL+"?"+encodeURIComponent(i)},getSlot:function(t){return this.adslots.find((function(e){return(e.alias||e.name)===t||e.placeholder.id===t}))}};var _pAdunit=function(t){for(var e in t)this[e]=t[e];return this.floors={currency:"EUR",schema:{delimiter:"|",fields:["bidder","mediaType","size"]},values:{}},this.pubstack={adUnitName:this.adUnitName,adUnitPath:this.adUnitPath},t.abTests&&Array.isArray(t.abTests)&&(this.pubstack.tags=t.abTests),this.bids=[],this.mediaTypes={},this};function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ownKeys(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(i),!0).forEach((function(e){_defineProperty(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function _defineProperty(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}_pAdunit.prototype={addFloor:function(t,e){return this.floors.values[t]=e,this.floors},typeMapping:{banner:"banner",outstream:"video",instream:"video"},addMediaType:function(t,e,i){var n=this.typeMapping[e],r={};if("video"===n)r.context=e,r.playerSize=i[0];else{switch(t.position){case"atf":r.pos=1;break;case"btf":r.pos=3;break;default:r.pos=1}r.sizes=i}return this.mediaTypes[n]=r,this.mediaTypes},get isVideo(){return!!this.mediaTypes.hasOwnProperty("video")&&this.mediaTypes.video.context},pushBids:function(t){this.bids=this.bids.concat(t)}};var _pPrebid=function(t){for(var e in t)this[e]=t[e];return this.allbids=[],this.activebids={},this.renderedbids=[],this.discardedbids=[],this.renderadids={},this.targeting={},this.RENDERED="rendered",this.TARGETED="targeted",this.BIDTARGETINGREGEX=/hb_adid_([^_])+/,this._bidders=[],this};_pPrebid.prototype={get bidders(){return this._bidders},set bidders(t){var e=JSON.parse(JSON.stringify(t));e=e.reduce((function(t,e){return e.slots.display&&e.slots.display.banner&&e.slots.display.banner.forEach((function(t){if(t.sizes.length>1&&t.sizes.find((function(t){return"1800,1000"===t.join(",")}))){var i=JSON.parse(JSON.stringify(t));i.sizes=i.sizes.filter((function(t){return"1800,1000"===t.join(",")})),t.sizes=t.sizes.filter((function(t){return"1800,1000"!==t.join(",")})),e.slots.display.banner.push(i)}})),t}),e),this._bidders=e},init:function(t){var e=this;this.fetchExchangeRates(),this.fetchPrebidJS();var i=setInterval((function(){e.exchangerates&&e.pbjsLoaded&&(clearInterval(i),e.setup(t))}),200)},fetchPrebidJS:function(){var t=this;_pUtils.addScript({id:this.conf.prefix+"-prebid",url:"".concat(this.conf.lib_url).concat(this.conf.params.site,"/prebid.").concat(this.conf.params.site,".").concat(this.breakpoints.value.name.toLowerCase().replace(" ","-"),".min.js"),async:!0,callback:function(){t.pbjsLoaded=!0},onerror:function(e){_pUtils.addScript({id:t.conf.prefix+"-prebid-default",url:"".concat(t.conf.lib_url,"_default/prebid._default.min.js"),async:!0,callback:function(){t.pbjsLoaded=!0}})}})},fetchExchangeRates:function(){var t=this;_pUtils.ajax({url:"https://cdn.jsdelivr.net/gh/prebid/currency-file@1/latest.json",success:function(e){try{t.exchangerates=JSON.parse(e),t.exchangerates=t.exchangerates.conversions}catch(e){t.log("Error retrieving exchange rates","error",!0)}},error:function(e){t.log("Error retrieving exchange rates","error",!0)}})},setup:function(t){var e=this;(new _pConsent).initConsentManagementConfig((function(i){var n=window.pbjs||{};n.que=n.que||[],n.onEvent("bidResponse",e.bidResponseListener.bind(e)),n.onEvent("bidWon",e.bidWonListener.bind(e)),n.onEvent("adRenderFailed",(function(t){e.log("Error rendering","error",!0,{errorDetails:"".concat(t.reason," : ").concat(t.message)})}));var r={bidders:"*",filter:"include"},s={image:r,iframe:r};"doctissimo"===e.conf.params.site&&(s.iframe={bidders:"*",filter:"exclude"});var a={auctionDelay:50,syncEnabled:!0,enableOverride:!1,syncDelay:3e3};a.filterSettings=s,a.syncsPerBidder=10,a.userIds=[],"aufeminin"!==e.conf.params.site&&"marmiton"!==e.conf.params.site||(a.userIds.push({name:"id5id",params:{partner:245,pd:"UNIFY_UNIVERSAL_ID"in window?window.UNIFY_UNIVERSAL_ID("id5"):""},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}}),a.userIds.push({name:"identityLink",params:{pid:"13678"},storage:{type:"html5",name:"idl_env",expires:90}})),"netmums"===e.conf.params.site&&a.userIds.push({name:"identityLink",params:{pid:"13680"},storage:{type:"html5",name:"idl_env",expires:15}}),"doctissimo"===e.conf.params.site&&e.adslots.some((function(t){return t.abTests.includes("AB_DoctissimoUserId:true")}))&&(a.userIds.push({name:"id5id",params:{partner:245,pd:"UNIFY_UNIVERSAL_ID"in window?window.UNIFY_UNIVERSAL_ID("id5"):""},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}}),a.userIds.push({name:"identityLink",params:{pid:"13678"},storage:{type:"html5",name:"idl_env",expires:90}}));n.setConfig({bidderSequence:"fixed",cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"},consentManagement:i,currency:{adServerCurrency:"EUR",defaultRates:e.exchangerates},debugging:{enabled:!!e.debug||!1},deviceAccess:!0,enableSendAllBids:!0,floors:{additionalSchemaFields:{bidder:function(t,e){return t.bidder}}},instreamTracking:{enabled:!0},pageUrl:location.href,priceGranularity:{buckets:[{max:.05,increment:.05},{max:8,increment:.01},{max:15,increment:.02},{max:55,increment:.2}]},realTimeData:{auctionDelay:80,dataProviders:[{name:"ias",waitForIt:!0,params:{pubId:"929475"}},{name:"permutive",waitForIt:!0}]},rubicon:{singleRequest:!0},targetingControls:{allowTargetingKeys:["AD_ID","ADOMAIN","BIDDER","CACHE_HOST","CACHE_ID","DEAL","FORMAT","PRICE_BUCKET","SIZE","SOURCE","UUID"]},userSync:a,useBidCache:!0,gvlMapping:{ogury:31}}),n.bidderSettings={standard:{bidCpmAdjustment:function(t,i){var n=t;if(i&&i.bidderCode){var r=e.getBidder(i.bidderCode);if(!r)return e.getBucketedCpm(n);if(r.isGross){r.openCommission&&(n*=1-r.openCommission/100)}r.discrepancy&&(n*=1-r.discrepancy/100)}return e.getBucketedCpm(n)}},ias:{alwaysUseBid:!0,sendStandardTargeting:!0,suppressEmptyKeys:!0,adserverTargeting:[{key:"adt",val:function(t){return t.adt}},{key:"alc",val:function(t){return t.alc}},{key:"dlm",val:function(t){return t.dlm}},{key:"drg",val:function(t){return t.drg}},{key:"hat",val:function(t){return t.hat}},{key:"off",val:function(t){return t.off}},{key:"vio",val:function(t){return t.vio}},{key:"fr",val:function(t){return t.fr}},{key:"id",val:function(t){return t.slots[t.adUnitCode].id}},{key:"vw",val:function(t){return t.slots[t.adUnitCode].vw}},{key:"grm",val:function(t){return t.slots[t.adUnitCode].grm}},{key:"pub",val:function(t){return t.slots[t.adUnitCode].pub}},{key:"vw05",val:function(t){return t.slots[t.adUnitCode].vw05}},{key:"vw10",val:function(t){return t.slots[t.adUnitCode].vw10}},{key:"vw15",val:function(t){return t.slots[t.adUnitCode].vw15}},{key:"vw30",val:function(t){return t.slots[t.adUnitCode].vw30}},{key:"ias-kw",val:function(t){return t.custom["ias-kw"]}}]}},n.bidderSettings.adagio=_objectSpread(_objectSpread({},n.bidderSettings.standard),{},{storageAllowed:!0}),n.bidderSettings.criteo=_objectSpread(_objectSpread({},n.bidderSettings.standard),{},{storageAllowed:!0}),n.bidderSettings.invibes=_objectSpread(_objectSpread({},n.bidderSettings.standard),{},{storageAllowed:!0}),e.bidders.filter((function(t){return t.aliasFrom})).forEach((function(t){n.aliasBidder(t.aliasFrom,t.code)})),e.adslots.forEach((function(t){return e.buildAdUnits(t)})),t&&t()}))},callBids:function(t,e){var i=this,n=this,r=window.pbjs||{};r.que=r.que||[],t.forEach((function(t){return i.buildAdUnits(i.getSlot(t))})),r.que.push((function(){r.requestBids({adUnitCodes:t,timeout:n.timeout,bidsBackHandler:e})}))},reset:function(){var t=window.pbjs||{};t.que=t.que||[],this.targeting={}},filterBiddersForRefresh:function(t){var e=this;return this.bidders.filter((function(i){var n=e.discardedbids.filter((function(e){return e.adUnitCode===t.placeholder.id&&"floor"===e.reason})).map((function(t){return t.bidderCode}));return 0===n.length||n.filter((function(t){return t===i.code})).length<2})).filter((function(i){var n=e.activebids[t.placeholder.id];return 0===(n=n&&n.length>0?n.filter((function(t){return t.bidderCode===i.code&&"rendered"!==t.status})):[]).length}))},buildAdUnits:function(t){var e=this,i=this.revampSlotBidders(t);this.removeAdUnit(t),i.forEach((function(i){var n=new _pAdunit({code:t.placeholder.id,adUnitName:t.alias||t.name,adUnitPath:"".concat(e.adserverconf.account,"/").concat(t.data.adUnitPath),abTests:t.abTests});n.addFloor("*|*|*",t.data.upr),n.addMediaType(t,i.adFormat,i.sizes),Object.keys(i.bidders).forEach((function(r){var s=e.bidders.find((function(t){return t.code===r})),a=s.aliasFrom||s.code,o=s.code.replace(/\W/g,"")in e?s.code.replace(/\W/g,""):a.replace(/\W/g,"");if("function"==typeof e[o]){n.addFloor(a+"|*|*",t.data.upr),t.data.RTBSizes[i.adType][i.adFormat].filter((function(t){return i.sizes.map((function(t){return t.join("x")})).includes(t.size.join("x"))})).forEach((function(t){n.addFloor(a+"|"+(n.isVideo?"video":"banner")+"|"+t.size[0]+"x"+t.size[1],t.floor)}));var c=e[o]({code:s.code,adslots:i.bidders[r],floor:_pUtils.getMinFloor(t.data.RTBSizes[i.adType][i.adFormat]),mediaType:i.adFormat,slotId:t.placeholder.id});c&&"object"===_typeof(c)?n.pushBids(c):"string"==typeof c&&e.log(c,"error",!0)}})),window.pbjs.addAdUnits(n)}))},revampSlotBidders:function(t){return this.filterBiddersForRefresh(t).reduce((function(e,i){return Object.keys(i.slots).forEach((function(n){Object.keys(i.slots[n]).forEach((function(r){i.slots[n][r].filter((function(e){return e.code===(t.alias||t.name)})).forEach((function(t){var s=t.sizes.sort((function(t,e){return e[0]-t[0]||e[1]-t[1]})),a=e.find((function(t){return t.sizes.join(",")===s.join(",")&&t.adFormat===r}));a||(a={sizes:s,adType:n,adFormat:r,bidders:{}},e.push(a)),a.bidders[i.code]=a.bidders[i.code]||[],a.bidders[i.code].push(t)}))}))})),e}),[])},removeAdUnit:function(t){pbjs.adUnits.forEach((function(e){e.code===t.placeholder.id&&pbjs.removeAdUnit(t.placeholder.id)}))},getExchangeRate:function(t,e){var i=1;return t===e||(i=this.exchangerates.hasOwnProperty(e)?1/this.exchangerates[e][t]:1/this.exchangerates.USD[e]*this.exchangerates.USD[t]),i},getBidder:function(t){return this.bidders.find((function(e){return e.code===t}))},bidResponseListener:function(t){t.netOriginalCpm=Math.round(100*t.originalCpm)/100,t.cpm>55&&this.log("High cpm found","warning",!0,{bid:t,sampleRate:100,sampled:!1,service_name:"HB"});var e=t.adUnitCode.replace((this.conf.prefix?this.conf.prefix+"_":"")+"placeholder_",""),i=e.match(/^(.*)_\d+$/),n=i&&i.length>1?i[1]:"",r=this.adslots.find((function(t){return t.name===e||t.name===n})),s=r&&r.data&&r.data.upr;s||this.log("Unknown UPR","warning",!0,{errorDetails:e});var a=this.getSizeFloor(r.data,t.mediaType,t.size);return this.allbids.push(t),t.size?s&&t.cpm<s?(this.log("--- Below UPR â ".concat(t.bidder," on ").concat(e," : cpm (").concat(t.cpm,") < upr (").concat(s,") [adId = ").concat(t.adId,"] ---"),"bid"),t.reason="upr",void this.discardedbids.push(t)):("teads"===t.bidder&&"1x1"===t.size||a||this.log("Unknown size floor","warning",!0,{errorDetails:"".concat(t.bidder," on ").concat(e," (").concat(t.mediaType,") - size: ").concat(t.size," - ").concat(this.conf.params.device||this.conf.params.width+"px")}),t.cpm<a?(this.log("--- Below floor â ".concat(t.bidder," on ").concat(e," : cpm (").concat(t.cpm," â¬) < floor (").concat(a,") [adId = ").concat(t.adId,"] ---"),"bid"),t.reason="floor",void this.discardedbids.push(t)):(this.activebids[t.adUnitCode]||(this.activebids[t.adUnitCode]=[]),void this.activebids[t.adUnitCode].push(t))):(t.floorData=t.floorData||{cpmAfterAdjustments:"missing",floorValue:"missing"},this.log("--- Floor module  â ".concat(t.bidder," on ").concat(e," : cpm (").concat(t.netOriginalCpm," ").concat(t.originalCurrency," --\x3e ").concat(t.floorData.cpmAfterAdjustments," â¬) < floor (").concat(t.floorData.floorValue," â¬) [adId = ").concat(t.adId,"] ---"),"bid"),t.reason="floor",void this.discardedbids.push(t))},getTargeting:function(){return this.targeting},buildTargeting:function(t){var e=this;this.adslots.filter((function(e){return!t||t.indexOf(e.name)>-1})).forEach((function(t){e.buildSlotTargeting(t);var i=window.pbjs.getAdserverTargeting()[t.placeholder.id];i&&(i.iasId=i.id,_pUtils.extend(e.targeting[t.fullname],i))}))},buildSlotTargeting:function(t){var e=this;this.cleanupActiveBids(t.placeholder.id);var i=this.activebids[t.placeholder.id],n={};if(i&&i.length>0){var r={},s=null;i.forEach((function(t){t.status!==e.TARGETED&&t.status!==e.RENDERED&&(r[t.bidderCode]?r[t.bidderCode]&&t.cpm>r[t.bidderCode].cpm&&(r[t.bidderCode]=t):r[t.bidderCode]=t,s?s&&t.cpm>s.cpm&&(s=t):s=t)})),s&&(s.status=this.TARGETED,_pUtils.extend(n,this.buildBidTargeting(s,!0))),Object.keys(r).forEach((function(t){r[t].status=e.TARGETED,_pUtils.extend(n,e.buildBidTargeting(r[t]))}))}this.targeting[t.fullname]=n},buildBidTargeting:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i={};if(null!==t&&(i[this.getTargetingKey("hb_format",t.bidderCode)]=t.mediaType,i[this.getTargetingKey("hb_source",t.bidderCode)]=t.source,i[this.getTargetingKey("hb_size",t.bidderCode)]=t.size,i[this.getTargetingKey("hb_pb",t.bidderCode)]=t.cpm.toFixed(2),i[this.getTargetingKey("hb_adid",t.bidderCode)]=t.adId,i[this.getTargetingKey("hb_crid",t.bidderCode)]=t.creativeId,i[this.getTargetingKey("hb_bidder",t.bidderCode)]=t.bidderCode,e)){i.hb_format=t.mediaType,i.hb_source=t.source,i.hb_size=t.size,i.hb_pb=t.pbCg,i.hb_adid=t.adId,i.hb_crid=t.creativeId,i.hb_bidder=t.bidderCode,i.relLift=t.cpm;var n="0000"+Math.floor(100*t.cpm);n=n.substr(n.length-4),i.MaxBid=n}return i},getTargetingKey:function(t,e){return(t+"_"+e).substring(0,20)},bidWonListener:function(t){if(this.log("4) --- Bid won ð for ".concat(t.adUnitCode," : ").concat(t.bidder," ---"),"bid"),this.log({var:[t],params:["bidderCode","cpm","currency","adUnitCode","size","status"]},"table"),"function"==typeof this["render"+t.bidder]){var e=document.getElementById(t.adUnitCode);this["render"+t.bidder](t,e)}Object.keys(this.renderadids).includes(t.adId)?(this.renderadids[t.adId]+=1,this.log("Duplicate adid sent to GAM","warning",!0,{errorDetails:"".concat(t.bidder," - ").concat(t.adUnitCode," - ").concat(t.adId," - ").concat(this.renderadids[t.adId]," times")})):this.renderadids[t.adId]=1,this.renderedbids.push(t)},cleanupActiveBids:function(t){var e=(new Date).getTime();if(this.activebids[t])for(var i=this.activebids[t].length-1;i>=0;i--){var n=this.activebids[t][i],r=n.status===this.RENDERED,s=n.responseTimestamp+1e3*n.ttl+1e3<e;s&&(n.reason="ttl",this.discardedbids.push(n)),(s||r)&&this.activebids[t].splice(i,1)}},repoolBid:function(t,e){var i=this.activebids[e.placeholder.id],n=i?i.find((function(e){return e.adId===t})):null;n&&(n.status=null,this.log("Repooled bid from ".concat(n.bidder," with cpm of ").concat(n.cpm," â¬ with adid ").concat(n.adId," after he lost against direct or adX"),"info"))},getBucketedCpm:function(t){for(var e=0,i=pbjs.getConfig().customPriceBucket.buckets,n=0;n<i.length;n++){var r=i[n];if(t>=e&&t<r.max){var s=(t-e)/r.increment,a=e+Math.floor(s)*r.increment;return Number(a.toFixed(2))}e=r.max}return i[i.length-1].max},getMinTimeout:function(){var t=null;return this.adslots.forEach((function(e){e.data.plugins&&e.data.plugins.refresh&&e.data.plugins.refresh.presence&&(t=null===t?e.data.plugins.refresh.presence:Math.min(t,e.data.plugins.refresh.presence))})),t},getSizeFloor:function(t,e,i){var n=0;if(t&&e&&i){var r=i.split("x"),s=t.RTBSizes,a={banner:{display:["banner","outstream"]},video:{video:["preroll","midroll","postroll"]}}[e];a&&Object.keys(a).forEach((function(t){a[t].forEach((function(e){s[t]&&s[t][e]&&s[t][e].forEach((function(t){t.size[0]===parseInt(r[0])&&t.size[1]===parseInt(r[1])&&(n=t.floor)}))}))}))}return n},buildVideoUrls:function(t){var e=this,i=Object.keys(this.activebids);return t=t||{},pbjs.adServers&&pbjs.adServers.dfp?pbjs.adUnits.filter((function(t){return i.indexOf(t.code)>-1&&t.isVideo&&"instream"===t.isVideo})).reduce((function(i,n){var r=pbjs.adServers.dfp.buildVideoUrl({adUnit:n,params:{iu:n.adUnitPath,output:"vast",cust_params:t}});return i[n.code]={vastURL:r,playerId:e.getSlot(n.code).playerId,bids:e.activebids[n.code]},i}),{}):[]},getSlot:function(t){return this.adslots.find((function(e){return(e.alias||e.name)===t||e.placeholder.id===t}))}};var _p=function(t){var e=this;return this.VERSION="0.4.1",this.KEY="cGVnYXN1cw==",this.conf=_pUtils.extend({params:{exclude:[],include:[]},prefix:"",selectors:{adSlot:"[data-ad]",container:"[data-ad-container]",placeholder:"[data-ad-placeholder]"},lib_url:"https://pegasus.unifygroup.com/lib/",third_party:!1},t),this.locker=new _pLocker(this.conf.prefix),this.initAbTests(),this.verifyDeprecatedParams(),this.perf=_pPerf.init({prefix:this.conf.prefix}),this.adslots=[],this.breakpoints=new _pBreakpts(this.conf.prefix),this.user=new _pUser({breakpoint:this.breakpoints.name,device:_pDetector.get()}),Object.defineProperty(this,"consent",{_value:null,get:function(){return this._value},set:function(t){this._value=t,this.emit("consent")}}),this.fetchData((function(){e.HB_TIMEOUT=2e3,e.ADSERVER_TIMEOUT=3e3,e.SLOT_MINPRESENCE=3e3,e.RENDER_MINTIME=1e3,e.setData("slots.banner_atf.plugins",{roadblock:!0}),e.setData("slots.300_atf.plugins",{roadblock:!0});var t=Object.keys(e.getData("slots")).some((function(t){return e.getData("slots")[t].plugins&&e.getData("slots")[t].plugins.refresh&&(e.getData("slots")[t].plugins.refresh.presenceTimer||e.getData("slots")[t].plugins.refresh.viewabilityTimer)}));e.REFRESH_PRESENCE_KEY="presence".concat(t?"Timer":""),e.REFRESH_VIEWABILITY_KEY="viewability".concat(t?"Timer":"");var i=Object.keys(e.getData("slots")).some((function(t){return e.getData("slots")[t].plugins&&e.getData("slots")[t].plugins.lazyload&&e.getData("slots")[t].plugins.lazyload.viewports}));e.LAZYLOAD_VIEWPORT_KEY=i?"viewports":"nbViewports",e.init()})),this};function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}_p.fn=_p.prototype,_p.fn.init=function(){var t=this;this.perf.start("init"),this.initialized=!0,this.debugFilter=this.browserExt(),this.log("Version : ".concat(this.VERSION));var e=this.locker.getUserToken();e&&e.userIdentifier&&this.log("Welcome ".concat(e.userIdentifier),"test"),this.on("adServerStatus",(function(e){t.log("Ad Server - ".concat(e.adserver," - ").concat(e.status),"info")})),this.on("headerBiddingStatus",(function(e){t.log("Header Bidding - ".concat(e.hbwrapper," - ").concat(e.status),"info")})),this.log("Init Tag Manager"),this.tagManager=new _pTM({prefix:this.conf.prefix,tags:this.getData("tagging")}),this.tagManager.run((function(e){return t.log("Tag manager ".concat(e," executed"),"ptm")})),this.log("Init Realtime monitor");var i=Object.keys(this.getData("headerbidding")).map((function(e){return t.getData("headerbidding")[e].bidders})).reduce((function(t,e){return t.concat(e)}),[]);return this.monitor=new _pMonitor(i,this.conf.params,this.breakpoints),this.monitor.fireEvent(this.monitor.INIT_TYPE,{type:"init",pageKeywords:this.getPageKeywords()}),this.initRequirements(),this.cmd.init(this.conf.cmd),"aufeminin"===pegasus.conf.params.site&&this.user.run((function(e){t.monitor.fireEvent(t.monitor.USER_INFOS,{type:"user_infos",data:e.report})})),this.watcher.watch.apply(this),this.setStyles(),this.adServerInit(),this.checkClsStylesheet(),this.query(),this.lazyload(),this.hasHB()&&this.headerBiddingInit(),this.log("Init Visibility event detection"),_pDocument.visibility((function(e){t.adslots.forEach((function(t){t.refresh&&t.refresh.timers&&t.refresh.timers.forEach((function(t){e?t.stop():t.run()}))}))})),localStorage.getItem(this.conf.prefix+":console")&&this.openConsole(),this.perf.end("init"),this},_p.fn.log=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;if(this.locker.get()||i)return this.logger=this.logger?this.logger:new _pLogger(this.conf.prefix,{VERSION:this.VERSION}),i&&this.logger.trackError(t,n),this.locker.get()&&this.locker.getUserToken()?this.logger.log(t,e):void 0},_p.fn.getConsent=function(){return!(void 0===this.getData("waitForConsent")||this.getData("waitForConsent"))||this.consent},_p.fn.openConsole=function(){var t=this;if(this.console)this.console.openClose();else{var e=this.locker.getUserToken();e?_pUtils.addScript({id:this.conf.prefix+"Console",url:this.conf.lib_url+"pegasus.console.min.js",callback:function(){t.console=new _pConsole({prefix:t.conf.prefix,collapsed:localStorage.getItem(t.conf.prefix+":console"),adslots:t.adslots,user:e})}}):this.log("User token invalid : abort console opening","warning")}},_p.fn.hasHB=function(){return!this.conf.third_pary&&"headerBiddingInit"in this&&this.data.headerbidding&&Object.keys(this.data.headerbidding).length>0},_p.fn.initAdStack=function(){var t=this;this.initAbTests(),this.adServerInit(),this.hasHB()&&this.headerBiddingInit(),this.documentReadyState=document.readyState,this.isDomReady="loading"!==this.documentReadyState,document.onreadystatechange=function(){t.documentReadyState=document.readyState,"loading"===t.documentReadyState||t.isDomReady||(t.isDomReady=!0,t.emit("DOMReady"))}},_p.fn.addParams=function(t){this.conf.params=_pUtils.extend(this.conf.params,t),this.emit("paramsChanged",t)},_p.fn.verifyDeprecatedParams=function(){this.conf.params.device&&this.log('Deprecated configuration : The "device" parameter is not necessary anymore.',"warning",!0),this.conf.slots&&this.log('Deprecated configuration : The "slots" array is not necessary anymore.',"warning",!0)},_p.fn.getWrapperStatus=function(t,e){var i=this;return this[t]&&Object.keys(this[t]).length>0&&e&&Object.keys(this[t]).every((function(n){return i[t][n].status===e}))},_p.fn.ABTESTS={userSession:function(){var t=sessionStorage.getItem("".concat(this.conf.prefix,"_abTests"));t||(t=Math.random()<.5?"true":"false",sessionStorage.setItem("".concat(this.conf.prefix,"_abTests"),t));var e=_pUtils.capitalize(pegasus.conf.params.site);return{key:"AB_".concat(e,"UserId"),value:t}},lib:function(){return{key:"AB_lib",value:"legacy"}}},_p.fn.initAbTests=function(){var t=this;this.abTests={},this.getConsent()?(sessionStorage.setItem("".concat(this.conf.prefix,"_AB_Test_use_legacy"),"true"),this.abTests=Object.keys(this.ABTESTS).reduce((function(e,i){var n=t.ABTESTS[i].apply(t);return e[n.key]=n.value,e}),{}),this.adslots.forEach((function(e){return t.setAdslotAbTest(e)}))):this.log("AbTests - No consent received")},_p.fn.setAdslotAbTest=function(t){var e=this;t.abTests=t.abTests||[],Object.keys(this.abTests).forEach((function(i){t.abTests.push("".concat(i,":").concat(e.abTests[i]))}))},_p.fn.getAdopsVariable=function(){return this.getData("keywords.mapping.adops")||"ops"},_p.fn.isPrerollDisabled=function(){var t=this.filteredRunningAdops();return t.length>0&&t.some((function(t){return t.disableAdPreroll}))},_p.fn.filteredRunningAdops=function(){var t=this.getData("adops");return t=t.filter((function(t){return void 0===t.currentlyRunning||t.currentlyRunning}))},_p.fn.setAdops=function(){var t=this.filteredRunningAdops();if(t&&0!==t.length){this.log("Adops #".concat(t[0].tagid," detected"),"test");var e=this.getDataLayer(this.getAdopsVariable());e&&(e=this.getDataLayer(this.getAdopsVariable(),{id:t[0].tagid,name:t[0].name,author:t[0].author,brand:t[0].brand})),this.addCustomKeyword("ops_tag",[t[0].tagid]),this.setAdopsLabel(t[0])}},_p.fn.isSlotAdopsBlocked=function(t){var e=!1,i=this.filteredRunningAdops();return!(this.slotNameIsVideo(t)&&!this.isPrerollDisabled())&&(i&&i.length>=1&&(e=!0,i.forEach((function(i){void 0!==i.slots&&-1!==i.slots.indexOf(t)&&(e=!1)}))),e)},_p.fn.setAdopsLabel=function(t){var e=document.querySelector("[data-ad-ops-label]");if(e&&t.hasLabel&&t.labelTxt){var i="<span>".concat(t.labelTxt,"</span>");t.landingPage&&(i='<a href="'.concat(t.landingPage,'" target="_blank" rel="nofollow">').concat(t.labelTxt,"</a>")),e.innerHTML=i}},_p.fn.adServerInit=function(){var t=this;this.getConsent()?this.checkRequirements(this.REQUIREMENT_BLOCKS_INIT)?(this.log("Init Adserver (consent received)"),this.adServers=this.setAdServers(),Object.keys(this.adServers).forEach((function(e){t.perf.start("".concat(e,"_init")),t.adServers[e].init((function(){t.perf.end("".concat(e,"_init")),t.adServers[e].status="created",t.adServers[e].setGlobalTargeting(t.getEnrichedKeywords()),t.adServers[e].timeout=t.hasHB()&&setTimeout((function(){(0===Object.keys(t.hbwrappers).length||Object.keys(t.hbwrappers).some((function(e){return"targeting ready"!==t.hbwrappers[e].status})))&&(t.adServers[e].status="timedOut")}),t.ADSERVER_TIMEOUT)}))}))):this.log("Adserver - Requirements not met"):this.log("Adserver - No consent received")},_p.fn.setAdServers=function(){var t=this,e={},i=this;return Object.keys(this.data.adserver).forEach((function(n){var r=new(window["_p"+n.toUpperCase()])({prefix:t.conf.prefix,device:t.breakpoints.name,params:t.conf.params,log:function(e,i){t.log(e,i)},on:function(e,i,n){t[e](i,n)}});Object.defineProperty(r,"status",{_value:"created",set:function(t){this._value=t,i.emit("adServerStatus",{adserver:n,status:t})},get:function(){return this._value}}),e[n]=r})),e},_p.fn.defineSlot=function(t){if(!t.adslot)if(t.data)if(t.data.adUnitPath){if(this.adServers&&this.adServers[t.adserver])return this.adServers[t.adserver].define({path:"/"+this.getData("adserver."+t.adserver+".account")+"/"+t.data.adUnitPath,sizes:_pUtils.flattenSizes(t.data.adUnitSizes),id:t.placeholder.id,slot:t},(function(e){t.adslot=e,t.status="defined"})),t}else this.log("AdUnitPath missing in conf.","error",!0,{errorDetails:t.div.id});else this.log("Adslot missing in conf.","error",!0,{errorDetails:t.div.id})},_p.fn.defineAdslots=function(t,e){var i=this,n=[];t.forEach((function(r){i.defineSlot(r),n.push(r),t.length===n.length&&e&&e()}))},_p.fn.renderQue=[],_p.fn.renderLine=[],_p.fn.toRenderQue=function(t){var e=this;t&&0!==t.length&&(t=t.filter((function(t){if(!(e.renderQue.indexOf(t)>-1)&&e.isRefreshCleared(t)&&"targeted"===t.status&&(!t.data.plugins.lazyload||t.isInView()||0!==t.history.length&&!t.data.plugins.lazyload.fromRefresh)&&!(t.lastHistory&&t.lastHistory.timestp&&Date.now()-t.lastHistory.timestp<e.RENDER_MINTIME||e.conf.params.exclude&&e.conf.params.exclude.indexOf(t.name)>-1||e.conf.params.include&&e.conf.params.include.length>0&&e.conf.params.include.indexOf(t.name)<0||t.lastHistory&&t.lastHistory.ongoingrender))return t.history.push({ongoingrender:!0}),e.renderQue.push(t),e.renderLine=e.renderLine.filter((function(e){return e!==t})),t}))).length>0&&this.render(t)},_p.fn.render=function(t){var e=this;t=void 0===(t=(t="string"==typeof t?t.split(",").map((function(t){return e.getSlot(t)})):t)instanceof _pSlot?[t]:t)?this.adslots:t,Object.keys(this.adServers).forEach((function(i){t=t.filter((function(t){return t.adserver===i})).map((function(t){return t.adslot})),e.adServers[i].render(t)}))},_p.fn.setSlotTargeting=function(t,e){var i=this.hasHB()?this.getHBTargeting(t.fullname):{};i=this.adxBooster(i),this.setSlotUPR(t,i);var n=this.adServers[t.adserver].getSlotFloorTargeting(t.lastUPR),r=_pUtils.extend(i,n);r.last_adunit=t.name,r.placeholderId=t.placeholder.id,localStorage.getItem("adsDebug")&&(r.adsDebug=localStorage.getItem("adsDebug"),r.adsDebug="string"==typeof r.adsDebug?[r.adsDebug]:r.adsDebug),0!==Object.keys(r).length?(t.index&&(r.index=t.index),r.refresh=t.history.length.toString(),this.clearSlotTargeting(t),this.adServers[t.adserver].setSlotTargeting(t.adslot,r,(function(){t.status="targeted",e&&e()}))):e&&e()},_p.fn.setAdslotsTargeting=function(t,e){var i=this,n=[];t.forEach((function(r){i.setSlotTargeting(r,(function(){n.push(r),n.length===t.length&&e()}))}))},_p.fn.clearSlotTargeting=function(t,e){this.adServers[t.adserver].clearSlotTargeting(t.adslot,e)},_p.fn.getSlotFromAdserver=function(t,e){var i=this.adServers[t].getSlotId(e.slot);return this.getSlot(i)},_p.fn.onRender=function(t,e){var i=this.getSlotFromAdserver(t,e);if(i){if(i.lastHistory.targeting=this.adServers[t].getSlotTargeting(i.adslot),i.lastHistory.adserver=e,i.lastHistory.timestp=Date.now(),delete i.lastHistory.ongoingrender,i.history.length>1){var n=i.history[i.history.length-1],r=i.history[i.history.length-2];if(n.timestp-r.timestp<this.RENDER_MINTIME)this.log("Adslot refresh happened too fast","error",!0,{errorDetails:"".concat(i.div.id," -  ").concat(((n.timestp-r.timestp)/1e3).toFixed(2)," seconds")});else{var s=i.name+" refreshed after "+((n.timestp-r.timestp)/1e3).toFixed(2)+" seconds";this.log(s,"info")}}"rendered"!==this.adServers[t].status&&(this.adServers[t].status="rendered"),this.perf.end("firstRender",i.fullname),i.status="rendered",i.inActiveView=!1,delete i.forceReady,this.renderQue=this.renderQue.filter((function(t){return t!==i})),this.emit("adRenderEnded",{slot:i,event:e}),this.monitor.fireEvent(this.monitor.RENDER_TYPE,e,i),this.monitor.fireEvent(this.monitor.INIT_TYPE,{type:"first_render",pageKeywords:this.getPageKeywords()},i)}},_p.fn.onBeforeRender=function(t,e){var i=this.getSlotFromAdserver(t,e);i&&e.slot.getResponseInformation()&&(this.onBeforeRenderSlotCls(i),_toConsumableArray(i.container.children).forEach((function(t){t!==i.placeholder&&i.container.removeChild(t)})))},_p.fn.onRequest=function(t,e){var i=this.getSlotFromAdserver(t,e);i&&e.slot.getSlotElementId()&&this.monitor.fireEvent(this.monitor.INIT_TYPE,{type:"first_request",pageKeywords:this.getPageKeywords()},i)},_p.fn.onViewed=function(t,e){var i=this.getSlotFromAdserver(t,e);i&&(i.inActiveView=!0,this.log("".concat(i.name).concat(i.index?" #".concat(i.index):""," viewed"),"info"))},_p.fn.onSlotsRegistered=function(t){var e=this,i=[];Object.keys(this.adServers).forEach((function(n){e.adServers[n].slotsRegistered?t():e.adServers[n].onSlotsRegistered((function(r){i.push(r),e.adServers[n].slotsRegistered=!0,Object.keys(e.adServers).every((function(t){return i.includes(e.adServers[t].name)}))&&t()}))}))},_p.fn.hasFirstRendered=function(){return!!this.conf.third_party||this.adslots.some((function(t){return t.history.length>0}))},_p.fn.firstRender=function(t){var e=this;(t=(t=void 0===t?this.adslots:t).filter((function(t){return!t.isVideo}))).map((function(t){return e.perf.start("firstRender",t.fullname)})),this.defineAdslots(t,(function(){e.onSlotsRegistered((function(){t=t.filter((function(t){return t.isRequired||!t.data.plugins.lazyload||t.inViewportHB||"atf"===t.position})),e.setAdslotsTargeting(t,(function(){t=t.filter((function(t){return t.isRequired||!t.data.plugins.lazyload||"atf"===t.position||t.isInView()})),e.toRenderQue(t)}))}))}))},_p.fn.isRTB=function(t){var e=this;if(this.hasHB()){var i=[];return Object.keys(this.hbwrappers).forEach((function(t){i=e.hbwrappers[t].bidders.filter((function(t){return t.advertiserId})).map((function(t){return parseInt(t.advertiserId)})).concat(i)})),i.indexOf(t.lastHistory.adserver.advertiserId)>-1}},_p.fn.getBidderFromAdvertiserId=function(t){var e=this;return Object.keys(this.getData("headerbidding")).reduce((function(t,i){return t=t.concat(e.data.headerbidding[i].bidders)}),[]).find((function(e){return parseInt(e.advertiserId)===t}))},_p.fn.updateGlobalTargeting=function(){var t=this;this.adServers&&Object.keys(this.adServers).filter((function(e){return t.adServers[e].hasBeenGlobalTargeted})).forEach((function(e){t.adServers[e].setGlobalTargeting(t.getEnrichedKeywords())}))},_p.fn.clearTargeting=function(t){var e=this;Object.keys(this.adServers).forEach((function(i){return e.adServers[i].clearTargeting(t)}))},_p.fn.getGlobalTargeting=function(){var t=this,e={};return Object.keys(this.adServers).forEach((function(i){return Object.assign(e,t.adServers[i].getGlobalTargeting())})),e},_p.fn.adxBooster=function(t){t=JSON.parse(JSON.stringify(t||{}));return Object.keys(t).filter((function(e){return e.indexOf("hb_pb")>-1&&Number(t[e])<=1.5})).forEach((function(e){t["old_".concat(e)]=t[e],t[e]=Number(1.3*t[e]).toFixed(2).toString()})),t},_p.fn.hasBlocker=function(){var t=this.getData("keywords.mapping.adblocker")||"user.adBlocker";return 1===this.getDataLayer(t)||this.isScoutBlocked()},_p.fn.isScoutBlocked=function(){var t=document.createElement("div");t.innerHTML="&nbsp;",t.id="google_ads_iframe_/".concat(Math.floor(1e9*Math.random()),"/zezeazdae/zrgffdvisubviu"),t.className="page-ad right-ad single-ad squareAd top_ad adPanel ad_728x90 adbanner bannerAd box_ads",t.style="width:1px;height:1px;position:absolute",document.body.appendChild(t);var e=0===t.offsetHeight&&0===t.offsetWidth;return document.body.removeChild(t),e},_p.fn.onBeforeRenderSlotCls=function(t){t.cls&&delete t.div.dataset.adCls},_p.fn.onRenderSlotCls=function(t){t.cls&&((t.isEmpty()&&!t.cls.keep||t.lastPlugins.skin&&!t.lastPlugins.skin.mobile)&&(t.div.style.minHeight=null),delete t.div.dataset.adCls)},_p.fn.checkClsStylesheet=function(){var t=document.createElement("div");t.dataset.adCls=!0,document.body.appendChild(t),this.hasClsStylesheet=t.offsetHeight>0,document.body.removeChild(t)};var _pCmd=function(){return this.queues={},this.states={},this.arguments={},this};function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}_pCmd.prototype={push:function(t){var e=this;"function"==typeof t&&(this.queues.init=this.queues.init||[],this.queues.init.push(t),this.states.init&&this.run()),"object"===_typeof(t)&&Object.keys(t).forEach((function(i){e.queues[i]=e.queues[i]||[],e.queues[i].push(t[i]),e.states[i]&&e.run(i)}))},init:function(t){var e=this;this.queues.init=[],t&&Array.isArray(t)&&t.forEach((function(t){e.push(t)})),this.run()},run:function(t,e){var i=this;t=t||"init",this.states[t]=!0,e&&(this.arguments[t]=e),this.queues[t]&&(this.queues[t].forEach((function(e,n){"function"==typeof e&&e(i.arguments[t])})),/^on/.test(t)||(this.queues[t]=[]))}},_p.fn.cmd=new _pCmd,_p.prototype.confBackup={adserver:{dfp:{account:229683329,currency:"EUR"}},adops:[],slots:{"300_atf":{adUnitSizes:{display:{banner:[[1,1],[120,600],[160,600],[300,250],[300,600],"fluid"]}},RTBSizes:{display:{banner:[]}},upr:.4,position:"atf",adUnitPath:"websiteNameToReplace/organic/others/300_atf",multiple:!1,plugins:{},conditions:null,adserver:"dfp",label:null},"300_mtf":{adUnitSizes:{display:{banner:[[1,1],[120,600],[160,600],[300,250],[300,600],"fluid"]}},RTBSizes:{display:{banner:[]}},upr:.2,position:"mtf",adUnitPath:"websiteNameToReplace/organic/others/300_mtf",multiple:!1,plugins:{},conditions:null,adserver:"dfp",label:null},banner_atf:{adUnitSizes:{display:{banner:[[1,1],[728,90],[840,150],[970,250],[980,250],[1e3,300],[1e3,250],[1e3,90],[1800,1e3],"fluid"]}},RTBSizes:{display:{banner:[]}},upr:.3,position:"atf",adUnitPath:"websiteNameToReplace/organic/others/banner_atf",multiple:!1,plugins:{},conditions:null,adserver:"dfp",label:null},"300_diapodynamic":{adUnitSizes:{display:{banner:[[1,1],[120,600],[160,600],[300,250],[300,600],"fluid"]}},RTBSizes:{display:{banner:[]}},upr:.2,position:"mtf",adUnitPath:"websiteNameToReplace/organic/others/300_diapodynamic",multiple:!0,plugins:{},conditions:null,adserver:"dfp",label:null},dyninfeed:{adUnitSizes:{display:{banner:[[1,1],[300,250],"fluid"],outstream:[[640,360]]}},RTBSizes:{display:{banner:[]}},upr:.35,position:"mtf",adUnitPath:"websiteNameToReplace/organic/others/dyninfeed",multiple:!0,plugins:{},conditions:null,adserver:"dfp",label:null}},headerbidding:[],keywords:{variable:"unify_dataSlayer",mapping:{section:"page.section",subsection:"page.subsection",contenttype:"content.type",site:"site.sid"}},tagging:{activation_consent_BACKUP:{time_to_listen:0,script:"window.didomiEventListeners = window.didomiEventListeners || [];\n    window.didomiEventListeners.push({\n    event: 'consent.changed',\n    listener: function () {\n        if (Didomi.getUserConsentStatusForVendor('google') === true) {\n            window.pegasus = window.pegasus || { cmd: [] };\n            window.pegasus.cmd.push(function() {\n                pegasus.consent = true;\n            });\n        }\n    }\n    });\n    window.didomiOnReady = window.didomiOnReady || [];\n    window.didomiOnReady.push(function (Didomi) { \n        if (Didomi.getUserConsentStatusForVendor('google') === true) {\n            window.pegasus = window.pegasus || { cmd: [] };\n            window.pegasus.cmd.push(function() {\n                pegasus.consent = true;\n            });\n        }\n    });",conditions:null},watson_BACKUP:{time_to_listen:100,script:"window.watsonInitialized = window.watsonInitialized || false; window.watsonReturnsData = window.watsonReturnsData || false; (function watsonEnrichment () {\n    var WATSON_API_KEY = '4e5b0fa2-7bd9-49af-ab13-c2f3053964d5';\n    function transform (data, element) {\n        var THRESHOLD = 0.7;\n        var LIMIT = 30;\n        if (!data || !Array.isArray(data[element])) {\n            return null\n        }\n        return data[element].filter(function (elem) {\n            return elem.relevance >= THRESHOLD\n        }).map(function (elem) {\n            return elem.text\n        }).slice(0, LIMIT)\n    }\n    if (window.watsonInitialized || (typeof window.Didomi.getUserConsentStatusForVendor) !== 'function') {\n        return;\n    }\n    window.watsonInitialized = true;\n    var pageUrl = encodeURIComponent(window.location.protocol + '//' + document.domain + document.location.pathname)\n    var url = 'https://api.permutive.com/v2.0/watson?classify=true&url=@@URL@@&k=@@API_KEY@@';\n    url = url.replace('@@URL@@', pageUrl);\n    url = url.replace('@@API_KEY@@', WATSON_API_KEY);\n    var request = new window.XMLHttpRequest();\n    request.open('GET', url, true);\n    request.onload = function () {\n        try {\n            var data = JSON.parse(request.response);\n            var concepts = transform(data, 'concepts');\n            var sentiment = null;\n            if (data.sentiment && data.sentiment.document) {\n                sentiment = data.sentiment.document.label + ' | '+ data.sentiment.document.score;\n            }\n            window.googletag = window.googletag || {};\n            window.googletag.cmd = window.googletag.cmd || [];\n            window.googletag.cmd.push(function() {\n                window.googletag.pubads().setTargeting('watson_concepts', concepts);\n                if (sentiment !== null) {\n                    window.googletag.pubads().setTargeting('watson_sentiment', sentiment);\n                }\n            });\n            window.unify_dataSlayer = window.unify_dataSlayer || [];\n            window.unify_dataSlayer.push(data);\n            window.watsonReturnsData = true;\n        } catch (e) {}\n    };\n    request.send();\n})();",conditions:{operands:[{key:"site",operator:"eq",val:"doctissimo"},{key:"site",operator:"eq",val:"aufeminin"}],operator:"OR"}},content_keywords_BACKUP:{time_to_listen:0,script:"var main_cleanup_regexp = new RegExp(/[-_:;,\\'\\.#\\(\\)\\[\\]=+?!\"&$â¬*% ]/g); var content_keywords = document.title.toLowerCase().replace(main_cleanup_regexp, ','); if (typeof(document.getElementsByTagName) === 'function') {var h1s = document.getElementsByTagName('h1');for (var i = 0; i < h1s.length; i++) content_keywords += ' ' + h1s[i].innerText;var metas = document.getElementsByTagName('meta');for (var i = 0; i < metas.length; i++) {if (metas[i].getAttribute('name') === 'keywords') content_keywords += ' ' + metas[i].getAttribute('content');}} content_keywords = content_keywords.toLowerCase().replace(main_cleanup_regexp, ' '); content_keywords = content_keywords.replace(/[Ã Ã¡Ã¢Ã£Ã¤Ã¥]/g, 'a').replace(/[Ã¨Ã©ÃªÃ«]/g, 'e').replace(/[Ã¬Ã­Ã®Ã¯]/g, 'i').replace(/[Ã²Ã³Ã´ÃµÃ¶Ã¸]/g, 'o'); content_keywords = content_keywords.replace(/[Ã¹ÃºÃ»Ã¼]/g, 'u').replace(/[Ã¿]/g, 'y').replace(/[Ã§]/g, 'c').replace(/[Ã±]/g, 'n'); var content_keywords_tab = content_keywords.split(' ').sort(); var content_keywords_clean = new Array(); for (var i = 0; i < content_keywords_tab.length; i++) {if (content_keywords_tab[i].length >= 3) {if (typeof(content_keywords_clean.includes) !== 'function' || !content_keywords_clean.includes(content_keywords_tab[i])) {content_keywords_clean.push(content_keywords_tab[i]);}}} content_keywords = content_keywords_clean.join(','); if (content_keywords) {window.pegasus = window.pegasus || { cmd: [] };window.pegasus.cmd.push(function() {pegasus.conf.params.keywords += ';content_keywords=' + content_keywords + ';';});}",conditions:null},pubstack_BACKUP:{time_to_listen:500,script:"(function() {var s = document.createElement('script'); s.type = 'text/javascript'; s.async = true; s.src = 'https://boot.pbstck.com/v1/tag/pubstackIdToReplace';document.getElementsByTagName('head')[0].appendChild(s);})();",conditions:null}}},_p.fn.getData=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?this.completeData:_pUtils.parser(this.data,t)},_p.fn.setData=function(t,e,i){var n=this;(i="string"==typeof(i=i||[])?i.split(","):i).length>0?i.forEach((function(i){document.location.hostname.indexOf(i)>-1&&_pUtils.extend(n.getData(t),e)})):_pUtils.extend(this.getData(t),e)},_p.fn.fetchData=function(t){var e=this;this.perf.start("api"),this.api_params=this.conf.params,this.api_params.country&&(this.api_params.country=this.api_params.country.toLowerCase()),this.breakpoints.name?this.api_params.device=this.breakpoints.name:this.api_params.width=this.breakpoints.size[0],this.api_params.origin_url=window.location.origin+window.location.pathname,this.api_url="https://conf.pegasus.unifygroup.com/pegasus-conf/v2",this.locker.get("staging_conf")&&(this.log("Staging webservice called","test"),this.api_url="https://conf.pegasus.unifygroup.com.s.unfy.cloud/pegasus-conf/v2"),this.locker.get("staging_api")&&(this.log("Staging API called","test"),this.api_params.staging=this.locker.get("staging_api")),_pUtils.ajax({url:this.api_url,method:"POST",params:this.api_params,headers:{"Content-Type":"application/json"},success:function(t,i){e.user.setDownloadLength(i["content-length"]);try{var n=_pegasusCrypto.decrypt(t)}catch(i){try{n=CryptoJS.AES.decrypt(t,e.KEY).toString(CryptoJS.enc.Utf8)}catch(e){n=t}}try{e.data=JSON.parse(n)}catch(t){e.log("Configuration decryption error","error",!0),e.data=e.getBackupConf()}e.data.breakpoints&&localStorage.setItem(e.conf.prefix+":breakpoints",JSON.stringify(e.data.breakpoints))},error:function(t){e.log("Error connecting to the configuration platform","error",!0,{errorDetails:"default"}),e.data=e.getBackupConf()},finally:function(i,n){e.waitForDataLayer((function(){e.completeData=JSON.parse(JSON.stringify(e.data)),-1===window.location.host.indexOf("gofeminin")&&-1===window.location.host.indexOf("alfemminile")&&e.setAdops(),e.perf.end("api"),t()}))}})},_p.fn.getBackupConf=function(){var t="";switch(this.api_params.site){case"aufeminin":t="fc39af63-d31a-4ac4-84b6-86c1c0b87cfd";break;case"beaute-test":t="f70a6fef-b195-4e06-87e3-0748c57bc176";break;case"sofeminine":t="00608080-5f9f-4d2c-8aa3-c17d0f7afe4c";break;case"taofeminino":t="dc3a117d-a77c-41d3-809b-708635df0272";break;case"enfemenino":t="273b59c2-23fc-4438-863a-9af3b873e58b";break;case"marmiton":t="bff46cdb-3c4d-4c5c-beb8-5f215129fff5";break;case"doctissimo":t="3b6e2d6f-c442-45c8-9793-2f6c67b6ed7a";break;case"gamekult":t="f3a0dbcf-51e9-4906-8a48-6643745d5ef8";break;case"lesnumeriques":t="325cea3f-6282-4d12-b4ab-8fd597be3454";break;case"netmums":t="02e605d0-a439-437f-abff-656ad5fd077b";break;case"cnetfrance":t="d8f0606d-fe6c-4bb1-ac8a-f8951307bb50";break;case"zdnet":case"zdnet_france":t="6325aa76-9552-4918-a562-ec3d40ecb963"}var e=this.api_params.site;return"doctissimo"===this.api_params.site?e="doctissimo_fr":"zdnet"===this.api_params.site&&(e="zdnet_fr"),JSON.parse(JSON.stringify(this.confBackup).replace(/websiteNameToReplace/gi,e).replace(/pubstackIdToReplace/gi,t))},_p.fn.getDataLayer=function(t,e){var i=this.getData("keywords.variable");if(i){if(window[i])return _pUtils.parser(window[i],t,e);this.log("Unable to find datalayer variable","error",!0,{errorDetails:i})}},_p.fn.waitForDataLayer=function(t){var e=this.getData("keywords.variable");e||t();var i=setInterval((function(){window[e]&&(clearInterval(i),t())}),100)},_p.fn.getDataLayerKeywords=function(){var t=this;return this.getData("keywords.mapping")?Object.keys(this.getData("keywords.mapping")).reduce((function(e,i){var n=t.getDataLayer(t.getData("keywords.mapping."+i));return n&&(e[i]=n.toString().split(",")),e}),{}):{}},_p.fn.browserExt=function(){var t=this,e={};return this.locker.filteredBidders()&&""!==this.locker.filteredBidders()&&(e.bidder=!0,this.log("Limited bidders : "+this.locker.filteredBidders(!1),"test"),this.data.headerbidding.prebid&&(this.data.headerbidding.prebid.bidders=this.data.headerbidding.prebid.bidders.filter((function(e){return!t.locker.filteredBidders()||t.locker.filteredBidders().includes(e.code)})))),this.locker.filteredAdslots()&&""!==this.locker.filteredAdslots()&&(e.adslot=!0,this.log("Limited adslots : "+this.locker.filteredAdslots(!1),"test"),Object.keys(this.data.slots).forEach((function(e){-1===t.locker.filteredAdslots().indexOf(e)&&delete t.data.slots[e]}))),e},_p.fn.headerBiddingInit=function(){var t=this;this.getConsent()?this.checkRequirements(this.REQUIREMENT_BLOCKS_INIT)?(this.log("Init Header-Bidding (consent received)"),this.hbwrappers=this.setHBWrappers(),Object.keys(this.hbwrappers).forEach((function(e){t.hbwrappers[e].init((function(){t.hbwrappers[e].status="initialized"}))}))):this.log("HeaderBidding - Requirements not met"):this.log("HeaderBidding - No consent received")},_p.fn.allBids=[],_p.fn.setHBWrappers=function(){var t=this,e=this.getData("headerbidding"),i=this;return Object.keys(e).filter((function(t){return e[t].bidders.length>0})).reduce((function(n,r){var s="_p"+_pUtils.capitalize(r);return n[r]=new window[s]({conf:t.conf,globalcurrency:t.getData("adserver.dfp.currency"),adslots:t.adslots,adserverconf:t.getData("adserver.dfp"),timeout:t.HB_TIMEOUT,breakpoints:t.breakpoints,log:function(e,i,n,r){t.log(e,i,n,r)}}),n[r].bidders=e[r].bidders,n[r].debug=t.locker.get()&&!!t.locker.getUserToken()||localStorage.getItem("peg:pbjsdebug"),Object.defineProperty(n[r],"status",{_value:"created",set:function(t){this._value=t,i.emit("headerBiddingStatus",{hbwrapper:r,status:t,adunits:n[r].adunits,targeting:n[r].targeting})},get:function(){return this._value}}),n}),{})},_p.fn.getBids=function(t,e){var i=this;e=e||"auction",t=Array.isArray(t)?t:[t];var n={};this.allBids.push(n),Object.keys(this.hbwrappers).forEach((function(r){"refresh"===e&&i.hbwrappers[r].reset(),i.getWrapperBids(e,i.hbwrappers[r],t,(function(e){if(n[r]=e,Object.keys(n).length===Object.keys(i.hbwrappers).length){if(t.every((function(t){return t.isVideo})))return void i.emit("hbVideoReady");i.emit("hbTargetingReady",{targeting:n,slots:t})}})),i.hbwrappers[r].status="bids ".concat("refresh"===e?"refreshed":"requested"," â¬")}))},_p.fn.getWrapperBids=function(t,e,i,n){var r=this,s=i.map((function(t){return t.placeholder.id}));e.callBids(s,(function(i){s.forEach((function(t){e.activebids[t]&&0!==e.activebids[t].length&&(r.log("--- Bids ready for ".concat(t," ---"),"bid"),r.log({var:e.activebids[t],params:["bidder","cpm","size","statusMessage","dealId","adId","amznbid","amzniid","amznp","amznsz"]},"table"))})),e.status="auction"===t?"bids auctioned":"bids auctioned for refresh",e.buildTargeting(),e.status="targeting ready",n(i)}))},_p.fn.buildAdUnits=function(t){var e=this;Object.keys(this.hbwrappers).forEach((function(i){t.forEach((function(t){return e.hbwrappers[i].buildAdUnits(t)}))}))},_p.fn.getHBTargeting=function(t){var e=this,i={};return Object.keys(this.hbwrappers).forEach((function(t){_pUtils.extend(i,e.hbwrappers[t].getTargeting())})),t?i[t]:i},_p.fn.firstBidsRequest=function(t){if(this.areHBWrappersReady()&&!this.hasFirstBid&&(this.hasRequiredSlots()||this.isDomReady)){var e=this.adslots.filter((function(t){return!t.isVideo&&(t.isRequired||!t.data.plugins.lazyload||t.inViewportHB||"atf"===t.position)}));this.hasFirstBid=!0,this.perf.start("first_bids_wave"),this.getBids(e)}},_p.fn.hbVideoUrls=[],_p.fn.buildVideoUrls=function(t){var e=this,i={};Object.keys(this.hbwrappers).forEach((function(n){var r=e.getGlobalTargeting();i[n]=e.hbwrappers[n].buildVideoUrls(r),Object.keys(i).length===Object.keys(e.hbwrappers).length&&(e.hbVideoUrls.push(i),t(i))}))},_p.fn.hbVideoInit=function(){if(!this.hasFirstVideoBid){var t=this.getSlot("isVideo");t&&(t=Array.isArray(t)?t:[t],this.hasFirstVideoBid=!0,this.perf.start("hbvideo"),this.getBids(t))}},_p.fn.areHBWrappersReady=function(){var t=this;if(this.hbwrappers){var e=Object.keys(this.getData("headerbidding")).filter((function(e){return t.getData("headerbidding")[e].bidders.length>0})),i=Object.keys(this.hbwrappers).filter((function(e){return t.hbwrappers[e].status})).map((function(t){return t}));return JSON.stringify(i)===JSON.stringify(e)}},_p.fn.keywordsManager={mapping:{site:"site.sid",section:"page.section",subsection:"page.subSection",stack:"page.stack"},debug_keyword:"adsDebug",additionnal_keywords:{}},_p.fn.getDebugKeywords=function(){var t={};return localStorage.getItem(this.keywordsManager.debug_keyword)&&(t[this.keywordsManager.debug_keyword]=localStorage.getItem(this.keywordsManager.debug_keyword),t[this.keywordsManager.debug_keyword]="string"==typeof t[this.keywordsManager.debug_keyword]?[t[this.keywordsManager.debug_keyword]]:t[this.keywordsManager.debug_keyword]),t},_p.fn.getEnrichedKeywords=function(){var t=this,e=this.formatKeywords(this.conf.params.keywords);(e=Object.assign(e,this.getDebugKeywords())).url=[window.location.pathname],e.adstack=["pegasus_"+this.VERSION,"pegasus_legacy_"+this.VERSION],Object.keys(this.keywordsManager.additionnal_keywords).forEach((function(i){e[i]||(e[i]=[]),t.keywordsManager.additionnal_keywords[i].forEach((function(t){t&&e[i].push(t)}))})),-1===document.referrer.indexOf(location.hostname)&&(e.new_session=["1"]),Object.keys(this.abTests).forEach((function(i){e[i]=[t.abTests[i]]}));var i=this.getDataLayerKeywords();Object.keys(i).forEach((function(t){e[t]=e[t]||[],e[t]=e[t].concat(i[t]),e[t]=_toConsumableArray(new Set(e[t]))})),this.conf.params.stack&&(e.stack=[this.conf.params.stack]);var n=this.getPageKeywords();return n.stack&&(e.stack=[n.stack]),e},_p.fn.formatKeywords=function(t){var e={};return(t=t||"").split(";").forEach((function(t){if("undefined"!==t&&t){var i=t.split("="),n=i[0];if(2===i.length){var r=i[1].split(",");e[n]||(e[n]=[]),r.forEach((function(t){t&&e[n].push(t)}))}else 1===i.length&&(e[n]||(e[n]=[]))}})),e},_p.fn.getPageKeywords=function(){var t=this,e={};return Object.keys(this.keywordsManager.mapping).forEach((function(i){e[i]=t.getData("keywords.mapping.".concat(i))?t.getDataLayer(t.getData("keywords.mapping.".concat(i))):void 0,e[i]=e[i]?e[i]:t.getDataLayer(t.keywordsManager.mapping[i]),void 0===e[i]&&delete e[i]})),e=Object.assign(e,this.getDebugKeywords())},_p.fn.addCustomKeyword=function(t,e){var i=this;this.keywordsManager.additionnal_keywords[t]||(this.keywordsManager.additionnal_keywords[t]=[]),e.forEach((function(e){e&&!i.keywordsManager.additionnal_keywords[t].includes(e)&&i.keywordsManager.additionnal_keywords[t].push(e)})),this.emit("targetingUpdated")},_p.fn.lazyload=function(){var t=this;this.log("Init Lazyload"),_pViewport.viewportKey=this.LAZYLOAD_VIEWPORT_KEY;var e=function(){t.adslots.forEach((function(t){var e=Object.assign({},t.viewportArgs);"refreshing"===t.status&&(e.percentHeight=50),t.inViewport=_pViewport.isInView(t.inViewElement,e),e=Object.assign({},t.viewportHBArgs),t.inViewportHB=_pViewport.isInView(t.inViewElement,e)}))};e(),window.addEventListener("scroll",e),-1===["Desktop","Chromebook"].indexOf(_pDetector.get().device)&&window.addEventListener("touchmove",e),this.on("slotInViewport",(function(e){e.data.plugins.lazyload&&t.getConsent()&&t.hasFirstRendered()&&(e.history.length>0&&!e.inActiveView||"targeted"===e.status&&t.toRenderQue([e]))})),this.on("slotInViewportHB",(function(e){e.data.plugins.lazyload&&t.getConsent()&&t.hasFirstRendered()&&!e.lazyHB&&"defined"===e.status&&(e.lazyHB=!0,t.hasHB()&&0!==Object.keys(t.hbwrappers).length?t.getBids(e):t.setSlotTargeting(e,(function(){return t.toRenderQue([e])})))}))},_p.fn.plugins=[{name:"sticky",condition:function(t){return!t.isSize([1800,1e3])},destroyCondition:function(t){return t.isSize([1800,1e3])||!t.lastPlugins.sticky}},{name:"parallax",condition:function(t){var e=t.getSizes();if(e)return["300x600","320x480","336x280"].indexOf(e.join("x"))>-1&&(t.lastHistory.adserver.isBackfill||this.isRTB(t))},destroyOthers:["sticky"]},{name:"native",condition:function(t){return t.isSize([0,0])}},{name:"skin",dontWait:!0,condition:function(t){if(t.isSize([1800,1e3])&&this.isRTB(t)&&!t.lastHistory.isDisplayCampaign){var e=this.getBidderFromAdvertiserId(t.lastHistory.adserver.advertiserId);return{type:"rtb",external:e&&"sublime"===e.code}}}}],_p.fn.initPlugins=function(t){var e=this;if(t.data.plugins&&!t.isEmpty())this.plugins.map((function(i){var n=i.name||i;if(e.destroyPlugin(n,t),t.data.plugins[n]){var r=!i.condition||i.condition.apply(e,[t]);if(r){i.destroyOthers&&i.destroyOthers.forEach((function(i){return e.destroyPlugin(i,t,!0,1)}));var s="object"===_typeof(r)?r:{},a=t.placeholder.querySelector("iframe"),o=a?a.contentDocument||a.contentWindow.document:null,c=!!o&&"complete"!==o.readyState;return 1===t.history.length&&a&&!i.dontWait&&c?a.addEventListener("load",(function(){return e.callPlugin(n,t,s)})):e.callPlugin(n,t,s),n}}})).filter((function(t){return t}))},_p.fn.pluginParams=function(t,e,i){if(i="boolean"==typeof i&&i?{}:i,e.data.plugins&&e.data.plugins[t]){var n=Object.assign({},e.data.plugins[t]);i=_pUtils.extend(n,i,!0)}if(i.plugins)for(var r in i.plugins)if(i.plugins[r]&&i.plugins.hasOwnProperty(r)&&e.data.plugins[r]){var s=Object.assign({},e.data.plugins[r]);i.plugins[r]=_pUtils.extend(s,i.plugins[r],!0)}return i.target=i.target,i.prefix=this.conf.prefix,i.adslot="#"+e.div.id,i.breakpoint=this.breakpoints.name,i.cls=e.cls,i},_p.fn.callPlugin=function(t,e,i,n){if(t){if("IFRAME"===e.tagName)for(var r=this.conf.selectors.adSlot;e.parentElement;){if(e.matches(r)){e=e.dataset.ad;break}e=e.parentElement}if(e="string"==typeof e?this.getSlot(e):e){i.isDisplayCampaign&&(e.lastHistory.isDisplayCampaign=!0);var s=this.pluginParams(t,e,i),a="_p"+_pUtils.capitalize(t);if(window[a])return n&&this.destroyPlugin(t,e,!0),e.lastPlugins[t]=(new window[a]).init(s),e.emit("plugin",t),e.lastPlugins[t]}}},_p.fn.setPlugin=function(t,e,i){i.isDisplayCampaign=!0,this.callPlugin(t,e,i,!0)},_p.fn.destroyPlugin=function(t,e,i,n){n=void 0===n?2:n;var r=e.history[e.history.length-n];if(r&&r.plugins&&r.plugins[t]&&"destroyed"!==r.plugins[t].status){var s=this.plugins.find((function(e){return e.name===t}));if(!s||!s.destroyCondition||s.destroyCondition.apply(this,[e])||i)return r.plugins[t].destroy(),e}},_p.fn.query=function(){var t=this;this.log("Init Adslot detection");var e=this.conf.selectors.adSlot;new MutationObserver((function(i){i.forEach((function(i){i.addedNodes.forEach((function(i){i&&i instanceof Element&&(i.matches&&i.matches(e)&&t.saveSlot(i),i.querySelectorAll(e).forEach((function(e){return e!==i&&t.saveSlot(e)})))}))}))})).observe(document.documentElement,{childList:!0,subtree:!0}),document.querySelectorAll(e).forEach((function(e){return t.saveSlot(e)}))},_p.fn.canSaveSlot=function(t,e){var i=!this.getSlot(t.id)&&this.isInBreakpoint(t)&&void 0===t.dataset.adExclude;return e=e||t.dataset.ad,this.isSlotExcluded(e)&&(i=!1),this.isSlotAdopsBlocked(e)&&(this.log("".concat(e," has been blocked by the Ad OPS"),"warning"),this.slotNameIsVideo(e)&&this.cmd.run("disabledPreroll"),i=!1),-1===this.getData("slots."+e)&&(this.log("".concat(e," excluded in slots configuration."),"warning"),i=!1),i&&!this.getData("slots."+e)&&(this.log("Adslot does not exist in API","error",!this.debugFilter.adslot,{errorDetails:e}),i=!1),!i&&t.dataset.hasOwnProperty("adCls")&&delete t.dataset.adCls,i},_p.fn.isSlotExcluded=function(t){return!!(this.conf.params.exclude&&this.conf.params.exclude.indexOf(t)>-1)||!!(this.conf.params.include&&this.conf.params.include.length>0&&this.conf.params.include.indexOf(t)<0)},_p.fn.isInBreakpoint=function(t){var e=this,i=t.dataset.adMinBreakpoint,n=t.dataset.adMaxBreakpoint,r=!0;if(!i&&!n)return r;var s=function(t){return t&&isNaN(t)&&e.breakpoints.getBreakpoint(t)?e.breakpoints.getBreakpoint(t).widthLimit:t};return i=s(i),n=s(n),(r=(r=i?!isNaN(i)&&parseInt(i)<this.breakpoints.size[0]:r)&&n?!isNaN(n)&&parseInt(n)>=this.breakpoints.size[0]:r)||(t.setAttribute("data-ad-ignored",""),delete t.dataset.adCls),r},_p.fn.getRequiredSlots=function(){var t=this;return Object.keys(this.getData("slots")).filter((function(e){return t.getData("slots")[e].plugins&&t.getData("slots")[e].plugins.roadblock})).sort().filter((function(e){return!t.isSlotExcluded(e)&&!t.isSlotAdopsBlocked(e)}))},_p.fn.hasRequiredSlots=function(){return this.adslots.filter((function(t){return t.isRequired})).map((function(t){return t.name})).sort().join(",")===this.getRequiredSlots().join(",")},_p.fn.slotNameIsVideo=function(t){return!!(this.getData("slots.".concat(t,".adUnitSizes"))&&this.getData("slots.".concat(t,".adUnitSizes")).video&&this.getData("slots.".concat(t,".adUnitSizes")).video.instream)},_p.fn.REFRESH_PLUGINS=["presenceTimer","viewabilityTimer"],_p.fn.refresh=function(t){var e=this;if(!this.refreshDisabled){t.refresh=t.refresh||{},t.refresh.nb=t.history.length-1,t.status=t.data.plugins.refresh?"refreshing":t.status,delete t.refresh.forced,t.data.plugins.refresh&&t.data.plugins.refresh.visible&&(t.data.plugins.lazyload={fromRefresh:!0}),t.refresh.timers=[],t.refresh.timers.push(new _pTimer({name:"minPresenceTimer",duration:this.SLOT_MINPRESENCE})),t.lastHistory.refreshParams=this.adslotRefreshParams(t),[this.REFRESH_PRESENCE_KEY,this.REFRESH_VIEWABILITY_KEY].forEach((function(i){if(t.lastHistory.refreshParams&&t.lastHistory.refreshParams[i]&&!t.refresh.disabled&&!(t.isSize([1800,1e3])||t.lastHistory.refreshParams.capping>=1&&t.refresh.nb>=t.lastHistory.refreshParams.capping)){var n=t.lastHistory.refreshParams[e.REFRESH_VIEWABILITY_KEY]&&t.lastHistory.refreshParams[e.REFRESH_VIEWABILITY_KEY]>e.ADSERVER_TIMEOUT?e.REFRESH_VIEWABILITY_KEY:e.REFRESH_PRESENCE_KEY;t.refresh.timers.push(new _pTimer({name:i,duration:t.lastHistory.refreshParams[i],beforeTimeOut:e.ADSERVER_TIMEOUT,doRefresh:!0,getBids:i===n}))}})),t.refresh.timers.forEach((function(i){i.onStarted=function(){t.emit("refreshTimer",{name:i.name,status:"started"})},(!(t.lastHistory.refreshParams&&t.lastHistory.refreshParams[e.REFRESH_VIEWABILITY_KEY]>0&&i.name===[e.REFRESH_VIEWABILITY_KEY])||t.isInView())&&i.run(),i.onBeforeEnd=function(){i.getBids&&(t.status="bidsRefreshing")},i.onEnd=function(){t.refresh.clear([i.name]),t.emit("refreshTimer",{name:i.name,status:"ended"}),i.doRefresh&&(t.lastHistory.refreshParams&&t.lastHistory.refreshParams.activeUser&&!e.user.active?e.renderLine.push(t):e.toRenderQue([t]))}}));var i=function(i){t.refresh.timers.filter((function(t){return t.name===e.REFRESH_VIEWABILITY_KEY})).forEach((function(t){i.inViewport?t.run():t.stop()})),t.refresh.timers.filter((function(t){return t.name===e.REFRESH_PRESENCE_KEY&&(!t.value||t.value<t.delay)})).forEach((function(t){i.inViewport&&t.run()}))};t.on("inViewport",i),t.refresh.clear=function(e){for(var n=t.refresh.timers.length-1;n>=0;n--){var r=t.refresh.timers[n];e&&e.indexOf(r.name)<0||(r.stop(),delete t.refresh.timers[n],t.refresh.timers.splice(n,1),0===t.refresh.timers.length&&t.off("inViewport",i))}}}},_p.fn.refreshSlot=function(t,e){var i=this;(t?t.split(",").map((function(t){return i.getSlot(t)})):this.adslots).filter((function(t){return t.refresh})).forEach((function(t){var n=t.refresh&&t.refresh.timers&&t.refresh.timers.filter((function(t){return"minPresenceTimer"===t.name}))[0];t.status="refreshing",t.refresh.forced=!0,e&&n&&n.value<i.SLOT_MINPRESENCE?(t.refresh.clear([i.REFRESH_PRESENCE_KEY,i.REFRESH_VIEWABILITY_KEY]),n.beforeTimeOut=i.ADSERVER_TIMEOUT,n.duration+=n.value>n.duration-n.beforeTimeOut?n.beforeTimeOut:0,n.getBids=n.doRefresh=!0):(t.refresh&&t.refresh.clear&&t.refresh.clear(),t.status="bidsRefreshing")}))},_p.fn.disableRefresh=function(t){var e=this;(t?t.split(",").map((function(t){return e.getSlot(t)})):this.adslots).forEach((function(t){t.refresh=t.refresh||{},t.refresh.clear&&t.refresh.clear(),t.refresh.disabled=!0})),this.refreshDisabled=!0,this.log("Refresh is disabled","info")},_p.fn.isRefreshCleared=function(t){return!t.refresh||!t.refresh.timers||!(t.refresh.disabled&&!t.refresh.forced)&&(t.refresh.timers&&0===t.refresh.timers.length)},_p.fn.getSpareRefresh=function(t){var e=this.getBidderFromAdvertiserId(t.lastHistory.adserver.advertiserId),i={};if(e){var n=e.slots.display.banner.find((function(e){return e.code===t.name}));i=n&&n.refresh?n.refresh:i}else t.lastHistory.adserver.isBackfill?i=this.getData("adserver.dfp.refresh.SSP"):t.lastHistory.adserver.isBackfill||t.lastHistory.adserver.isEmpty||(i=this.getData("adserver.dfp.refresh.Direct"));return i&&i.status?i:{}},_p.fn.adslotRefreshParams=function(t){if(t.data.plugins.refresh){var e=JSON.parse(JSON.stringify(t.data.plugins.refresh)),i=this.getSpareRefresh(t);return Object.keys(e).reduce((function(t,n){return"number"==typeof e[n]&&i[n]&&i[n]>e[n]&&(t[n]=i[n]),"boolean"==typeof e[n]&&i[n]&&(t[n]=e[n]||i[n]),t}),e)}},_p.fn.REQUIREMENT_EVENT_PREFIX="requirement_",_p.fn.REQUIREMENT_MODE_MANDATORY="mandatory",_p.fn.REQUIREMENT_MODE_OPTIONAL="optional",_p.fn.REQUIREMENT_BLOCKS_INIT="init",_p.fn.REQUIREMENT_BLOCKS_RENDER="render",_p.fn.requirements={},_p.fn.requirement_timeouts={},_p.fn.initRequirements=function(){var t=this;(this.conf.params.requirements||[]).forEach((function(e){if(t.requirements[e.name]={blocks:e.blocks,status:!1},t.on(t.REQUIREMENT_EVENT_PREFIX+e.name,(function(){t.requirements[e.name].status=!0,t.requirement_timeouts[e.name]&&(t.log("optional requirement ".concat(e.name," timeout has been aborted"),"info"),clearTimeout(t.requirement_timeouts[e.name])),e.blocks===t.REQUIREMENT_BLOCKS_INIT?t.initAdStack():e.blocks===t.REQUIREMENT_BLOCKS_RENDER&&t.firstRender()})),e.mode===t.REQUIREMENT_MODE_OPTIONAL){var i=setTimeout((function(){t.log("optional requirement ".concat(e.name," has timed out after ").concat(e.timeout,"ms"),"info"),t.emit(t.REQUIREMENT_EVENT_PREFIX+e.name)}),e.timeout);t.requirement_timeouts[e.name]=i}}))},_p.fn.checkRequirements=function(t){var e=this;return!Object.keys(this.requirements).some((function(i){return e.requirements[i].blocks===t&&!1===e.requirements[i].status}))},_p.fn.reset=function(t){var e=this;this.log("reset ad stack","info"),this.destroy((function(){return t&&e.reinit()}))},_p.fn.destroy=function(t){var e=this;this.log("â ï¸ destroy in progress ... â ï¸"),this.disableRefresh(),this.adslots.forEach((function(t){t.reset(),e.clearSlotTargeting(t)})),Object.keys(this.adServers).forEach((function(t){return e.adServers[t].destroy()})),this.clearTargeting(),this.console&&this.console.clear(),this.adslots=[],t&&t()},_p.fn.reinit=function(){var t=this;this.log("reinit"),delete this.refreshDisabled,this.fetchData((function(){t.setExchangeRates((function(){t.query();var e=t.getData("headerbidding");Object.keys(t.hbwrappers).forEach((function(i){t.hbwrappers[i].slots=_pUtils.filter(t.getData("slots"),(function(t){return t.hasOwnProperty("RTBSizes")})),t.hbwrappers[i].adslots=t.adslots,t.hbwrappers[i].bidders=e[i].bidders,t.hbwrappers[i].status="initialized"})),t.updateGlobalTargeting(),t.hasHB()&&t.firstBidsRequest()}))}))};var _pSlot=function(t){var e=this;if(t.div||t.data)return this.initial={},Object.keys(t.div.attributes).forEach((function(i){"data-ad"!==t.div.attributes[i].name&&(e.initial[t.div.attributes[i].name]=t.div.attributes[i].value)})),this._name,this.name=t.name,this.div=t.div,this.prefix=t.prefix,this.div.id=(this.prefix?this.prefix+"_":"")+this.name,this.fullname=this.name,this.breakpoint=t.breakpoint,this.data=Object.assign({},t.data.slots[this.name]),this.setElements(),this.defaults={status:"",inViewport:_pViewport.isInView(this.inViewElement,this.viewportArgs),inViewportHB:_pViewport.isInView(this.inViewElement,this.viewportHBArgs),inActiveView:!1},this.setObservableProps(),this.addLabel(),this.events={},this.history=[],this.UPR=[],this.abTests=[],this.div.dataset.hasOwnProperty("adCls")&&(this.cls={width:this.div.offsetWidth,height:this.div.offsetHeight,keep:"keep"===this.div.dataset.adCls},this.div.style.minHeight=this.cls.height+"px"),this};function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}_pSlot.prototype={get name(){return this.div.dataset.ad?this.div.dataset.ad:this._name},set name(t){this._name=t||null},setObservableProps:function(){var t=this;Object.keys(this.defaults).forEach((function(e){Object.defineProperty(t,e,{get:function(){return this.defaults[e]},set:function(t){var i=this.defaults[e];this.defaults[e]=t,this.defaults[e]!==i&&this.emit(e)}})}))},emit:function(t,e){var i=this;this.events[t]&&this.events[t].forEach((function(t){return t(i,e)}))},on:function(t,e){this.events[t]=this.events[t]||[],this.events[t].push(e)},off:function(t,e){this.events[t]&&(this.events[t]=this.events[t].filter((function(t,i){return"function"==typeof e?t!==e:"number"!=typeof e||i!==e})))},get position(){return this.data.position||_pViewport.getPosition(this.div)},get index(){return this.div.dataset.adIndex},set index(t){this.div.dataset.adIndex=t,this.div.id+="_"+t,this.fullname+="_"+t,this.placeholder.id+="_"+t,this.container.id+="_"+t},get adserver(){return this.data.adserver||"dfp"},get breakpointsAttr(){var t={min:this.div.dataset.adMinBreakpoint,max:this.div.dataset.adMaxBreakpoint};for(var e in t)t[e]||delete t[e];return 0===Object.keys(t).length?null:t},get isRequired(){return this.data.plugins&&Object.keys(this.data.plugins).indexOf("roadblock")>-1},get lastHistory(){return this.history[this.history.length-1]},get lastPlugins(){return this.lastHistory?(this.lastHistory.plugins=this.lastHistory.plugins||{},this.lastHistory.plugins):{}},get lastUPR(){return this.UPR[this.UPR.length-1]||this.data.upr},isEmpty:function(){return!this.lastHistory&&!this.lastHistory.adserver||this.lastHistory.adserver.isEmpty},getSizes:function(){var t=null;return this.isEmpty()?t:(this.lastHistory.adserver.size&&(t=this.lastHistory.adserver.size),this.lastHistory.targeting&&this.lastHistory.targeting.hb_size&&(t=t&&"1,1"!==t.join()?t:this.lastHistory.targeting.hb_size[0].split(/x|X/).map((function(t){return parseInt(t)}))),t||[this.div.offsetWidth,this.div.offsetHeight])},isSize:function(t){return!!this.getSizes()&&t.join("|")===this.getSizes().join("|")},get inViewElement(){return this.container?this.container:this.div},isInView:function(t){return t="HB"===t?this.viewportHBArgs:this.viewportArgs,_pViewport.isInView(this.inViewElement,t)},get viewportArgs(){var t=this.data.plugins&&this.data.plugins.lazyload?this.data.plugins.lazyload:{};return this.refresh&&this.data.plugins.refresh&&(t[this.LAZYLOAD_VIEWPORT_KEY]=0),t},get viewportHBArgs(){var t=Object.assign({},this.viewportArgs);return t[this.LAZYLOAD_VIEWPORT_KEY]=isNaN(this.viewportArgs[this.LAZYLOAD_VIEWPORT_KEY])?2:this.viewportArgs[this.LAZYLOAD_VIEWPORT_KEY]+2,t},update:function(){var t=this,e=this.isEmpty()?"empty":this.status;this.div.classList.forEach((function(e){e.startsWith("".concat(t.prefix,"_status"))&&t.div.classList.remove(e)})),this.div.classList.add("".concat(this.prefix,"_status_").concat(e))},addLabel:function(){this.label&&this.container&&(this.container.classList.add("".concat(this.prefix,"_has_label")),this.container.dataset.adLabelTxt=this.label)},removeLabel:function(){this.container&&(this.container.classList.remove("".concat(this.prefix,"_has_label")),delete this.container.dataset.adLabelTxt)},get label(){return this.data.label||this.div.dataset.adLabel},reset:function(){var t=this;this.div.innerHTML="",["class","style","id"].forEach((function(e){return t.div.removeAttribute(e)})),Object.keys(this.initial).forEach((function(e){return t.div.setAttribute(e,t.initial[e])})),Object.keys(this.lastPlugins).forEach((function(e){return t.lastPlugins[e].destroy()}))},isMultiple:function(){return this.data.multiple},get isVideo(){return!(!this.data.adUnitSizes||!this.data.adUnitSizes.video)},get playerId(){return this.isVideo&&this.div.dataset.adPlayerid},setElements:function(){this.container=document.createElement("div"),this.container.id=(this.prefix?this.prefix+"_":"")+"container_"+this.name,this.container.dataset.adContainer=this.name,this.placeholder=document.createElement("div"),this.placeholder.id=(this.prefix?this.prefix+"_":"")+"placeholder_"+this.name,this.placeholder.dataset.adPlaceholder=this.name,this.container.insertAdjacentElement("afterBegin",this.placeholder),this.div.insertAdjacentElement("afterBegin",this.container)},setAlias:function(t,e){this.originalData=this.data,this.data=Object.assign({},e),this.alias=t},get templatePosition(){var t=this,e=[{name:"banner_atf",positions:{Default:"header"}},{name:"300_atf",positions:{Default:"infeed","Tablet Landscape":"aside",Desktop:"aside"}}].find((function(e){return e.name===t.name}));return e?e.positions[this.breakpoint]||e.positions.Default:"infeed"}},_p.fn.saveSlot=function(t,e){var i=this;if(this.canSaveSlot(t,e)){var n={div:t,prefix:this.conf.prefix,data:this.getData(),breakpoint:this.breakpoints.name};void 0!==e&&(n.name=e);var r=new _pSlot(n);return this.hasClsStylesheet||delete r.cls,r.on("status",(function(t){var e=_pUtils.capitalize(t.status);i.log("".concat(e," slot - ").concat(t.div.id),"info"),i.emit("slot"+e,t)})),r.on("inViewport",(function(t){i.emit("slot"+(t.inViewport?"":"Not")+"InViewport",t)})),r.on("inViewportHB",(function(t){i.emit("slot"+(t.inViewportHB?"":"Not")+"InViewportHB",t)})),this.getSlot(r.name)&&!r.isMultiple()?(this.log("Adslot already exists","error",!0,{errorDetails:r.name}),r.reset(),void(r=null)):(r.on("inActiveView",(function(t){i.emit("slotInActiveView",t)})),r.isVideo&&r.setAlias("instream",this.getData("slots.instream")),this.setAdslotAbTest(r),this.adslots.push(r),r.isMultiple()&&(r.index=this.getSlot(r.name).length||1),r.status="created",r)}},_p.fn.getSlot=function(t){var e=this;if(t&&"string"==typeof t){var i=[];return(i="isVideo"===t?this.adslots.filter((function(t){return t.isVideo})):this.adslots.filter((function(i){return i.name===t||i.div.id===t||i.div.id===t.replace("placeholder_","")||i.div.id==="".concat(e.conf.prefix,"_").concat(t)}))).length>0&&(1===i.length?i[0]:i)}},_p.fn.removeLabel=function(t){var e=this;(t="string"==typeof(t=t||this.adslots)?[t]:t).forEach((function(t){(t="string"==typeof t?e.getSlot(t):t)&&t.removeLabel()}))},_p.fn.deleteSlots=function(t){void 0!==t&&(t="string"==typeof t?[t]:t,this.adslots=this.adslots.filter((function(e){if(!(t.indexOf(e.name)>-1))return e;e.reset()})))},_p.fn.setStyles=function(){this.log("Init Global Styles");var t="",e=[this.conf.selectors.adSlot,this.conf.selectors.placeholder,this.conf.selectors.container];return t="".concat(e.join(","),"{text-align:center;}\n    ").concat(e.map((function(t){return"".concat(t,">div,").concat(t,">iframe,").concat(t,">div iframe")})).join(","),"{margin-left:auto;margin-right:auto;display:block;}"),t+="".concat(this.conf.selectors.adSlot,":not(.").concat(this.conf.prefix,"_status_empty):not(.").concat(this.conf.prefix,"_skin) .").concat(this.conf.prefix,"_has_label:before {\n        content: attr(data-ad-label-txt);\n    }"),new _pEl({type:"style",id:"".concat(this.conf.prefix,"Styles"),html:_pUtils.minify(t)}).insert("beforeEnd","head")},_p.fn.uprList=[.1,.11,.12,.13,.14,.15,.16,.17,.18,.19,.2,.21,.22,.23,.24,.25,.3,.35,.4,.45,.5,.55,.6,.65,.7,.75,.8,.85,.9,.95,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.55,1.6,1.65,1.7,1.75,1.8,1.85,1.9,1.95,2,2.1,2.2,2.3,2.4,2.5,2.6,2.7,2.8,2.9,3,3.1,3.2,3.3,3.4,3.5,3.6,3.7,3.8,3.9,4,4.1,4.2,4.3,4.4,4.5,4.6,4.7,4.8,4.9,5,5.1,5.2,5.3,5.4,5.5,5.6,5.7,5.8,5.9,6,6.1,6.2,6.3,6.4,6.5,6.6,6.7,6.8,6.9,7,7.1,7.2,7.3,7.4,7.5,7.6,7.7,7.8,7.9,8,8.1,8.2,8.3,8.4,8.5,8.6,8.7,8.8,8.9,9,9.1,9.2,9.3,9.4,9.5,9.6,9.7,9.8,9.9,10,10.2,10.4,10.6,10.8,11,11.2,11.4,11.6,11.8,12,12.2,12.4,12.6,12.8,13,13.2,13.4,13.6,13.8,14,14.2,14.4,14.6,14.8,15,15.2,15.4,15.6,15.8,16,16.2,16.4,16.6,16.8,17,17.2,17.4,17.6,17.8,18,18.2,18.4,18.6,18.8,19,19.2,19.4,19.6,19.8,20],_p.fn.setSlotUPR=function(t,e){e=e||{};var i=Object.keys(e).filter((function(t){return t.indexOf("hb_pb")>-1})).map((function(t){return e[t]}));i=Math.max.apply(Math,i);var n=_toConsumableArray(this.uprList).reverse().find((function(t){return t<=i}));return t.UPR.push(n),n},_p.fn.que={},_p.fn.buffer={},_p.fn.on=function(t,e){var i=this;t.split(/[\s,]+/).forEach((function(t){i.que[t]=i.que[t]||[],i.que[t].push(e),i.buffer[t]&&i.buffer[t].forEach((function(e){i.emit(t,e)}))}))},_p.fn.emit=function(t,e){this.que[t]?this.que[t].forEach((function(t){return t(e)})):this.buffer[t]?this.buffer[t].push(e):this.buffer[t]=[e]},_p.fn.watcher={events:{slotCreated:function(t){this.hasHB()&&!this.hasFirstRendered()&&this.hasRequiredSlots()&&this.getWrapperStatus("hbwrappers","initialized")&&this.firstBidsRequest(),this.hasFirstRendered()&&("function"==typeof this.buildAdUnits&&this.buildAdUnits([t]),t.isVideo||this.defineSlot(t)),t.isVideo&&!this.hasFirstVideoBid&&this.areHBWrappersReady()&&this.hbVideoInit(),this.console&&t.isVideo&&this.console.push(t)},slotDefined:function(t){var e=this;this.hasFirstRendered()&&this.hasHB()&&(!t.data.plugins.lazyload||t.data.plugins.lazyload&&t.isInView("HB"))&&(0===Object.keys(this.hbwrappers).length?this.setSlotTargeting(t,(function(){return e.toRenderQue([t])})):this.getBids(t))},slotBidsRefreshing:function(t){var e=this;this.hasHB()&&0!==Object.keys(this.hbwrappers).length?this.getBids(t,"refresh"):this.setSlotTargeting(t,(function(){return e.toRenderQue([t])}))},slotRendered:function(t){var e=this;t.update(),this.onRenderSlotCls(t),this.initPlugins(t),this.user.trackingActivity||this.log("Tracking user activity","info"),this.user.isActive((function(t){e.emit("activeUser",t)})),this.refresh(t),this.console&&(this.console.push(t),this.console.generalInfos())},slotInActiveView:function(t){t.refresh&&"targeted"===t.status&&t.history.length>0&&this.toRenderQue([t])},adServerStatus:function(t){var e=this.adslots.filter((function(e){return e.adserver===t.adserver}));if(this.conf.third_party&&"created"===t.status&&this.defineAdslots(e),!this.conf.third_party&&"timedOut"===t.status){if(!this.checkRequirements(this.REQUIREMENT_BLOCKS_RENDER))return;this.firstRender(e)}!this.hasHB()&&(this.hasRequiredSlots()||this.isDomReady)&&this.getWrapperStatus("adServers","global targeted")&&this.firstRender(),this.getWrapperStatus("adServers","global targeted")&&this.cmd.run("globalTargeted")},headerBiddingStatus:function(t){this.areHBWrappersReady()&&!this.isHbReady&&(this.isHbReady=!0,this.hbVideoInit(),this.firstBidsRequest())},hbTargetingReady:function(t){var e=this;if(Object.keys(this.adServers).forEach((function(t){e.adServers[t].timeout&&(e.adServers[t].timeout=clearTimeout(e.adServers[t].timeout))})),this.checkRequirements(this.REQUIREMENT_BLOCKS_RENDER)){var i=t.slots?t.slots:this.adslots;if(!this.hasFirstRendered())return this.perf.end("first_bids_wave"),void this.firstRender();i.forEach((function(t){return e.setSlotTargeting(t,(function(){return e.toRenderQue([t])}))}))}},hbVideoReady:function(){var t=this,e=setInterval((function(){Object.keys(t.adServers).every((function(e){return t.adServers[e].hasBeenGlobalTargeted}))&&(clearInterval(e),t.buildVideoUrls((function(e){t.perf.end("hbvideo"),t.cmd.run("onHbVideoReady",e);var i=Object.keys(e).reduce((function(t,i){return"prebid"===i&&Object.keys(e[i]).length>0?t=t.concat(Object.entries(e.prebid)[0][1].bids.map((function(t){return t.bidderCode}))):"amazon"===i&&Object.keys(e[i]).length>0&&t.push("amazon"),t}),[]);t.log("hbVideoReady - [".concat(i.join(","),"]"),"info"),t.console&&t.console.hbVideoReady(e)})))}),300)},consent:function(){this.consent&&this.initAdStack()},targetingUpdated:function(){this.updateGlobalTargeting()},adRenderEnded:function(t){var e=this;if(this.hasHB()){var i=t.event.advertiserId,n=this.monitor.advertiserMap[i];this.log("Rendered ad on "+t.slot.placeholder.id+" from bidder - "+(n||"Direct/Adx"),"bid caching"),Object.keys(this.hbwrappers).forEach((function(i){var r=e.hbwrappers[i].BIDTARGETINGREGEX;t.event.slot.getTargetingKeys().filter((function(t){var e=t.match(r);return e&&e.length>1})).forEach((function(r){e.log("reviewing - "+r,"bid caching"),n&&r.endsWith(n)?e.log("did not repool - "+r,"bid caching"):e.hbwrappers[i]&&(e.log("repooling - "+r,"bid caching"),e.hbwrappers[i].repoolBid(t.event.slot.getTargeting(r)[0],t.slot))}))}))}},paramsChanged:function(t){var e=this;if(t.include||t.exclude){var i=this.conf.params.exclude;t.include&&(i=this.adslots.map((function(t){return t.name})).filter((function(t){return e.conf.params.include.indexOf(t)<0}))),this.deleteSlots(i)}},activeUser:function(){this.log("User activity detected with event ".concat(this.user.activeEventType),"info"),this.conf.third_party||this.toRenderQue(this.renderLine)},DOMReady:function(){this.hasFirstRendered()||(this.log("DOM is ready","info"),this.hasHB()?this.firstBidsRequest():this.getWrapperStatus("adServers","global targeted")&&this.firstRender())}},watch:function(){for(var t in this.log("Init Watcher events"),this.watcher.events)this.on(t,this.watcher.events[t].bind(this))}},window.pegasus&&window.pegasus.initialized&&window.pegasus.cmd.push((function(){pegasus.log("Pegasus already exists","error",!0)})),window.pegasus=window.pegasus&&window.pegasus.initialized?window.pegasus:new _p({params:pegasusConf.params,prefix:"pegasus",cmd:window.pegasus&&window.pegasus.cmd?window.pegasus.cmd:[]});